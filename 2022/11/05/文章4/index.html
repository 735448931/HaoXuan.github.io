<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Ajaxå­¦ä¹ (1) | HaoXuanğŸ¥XiaoFu</title><meta name="author" content="ç›–ä¸–è‹±é›„æ˜Šè½©"><meta name="copyright" content="ç›–ä¸–è‹±é›„æ˜Šè½©"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Ajaxå­¦ä¹ ç¬”è®°(1)">
<meta property="og:type" content="article">
<meta property="og:title" content="Ajaxå­¦ä¹ (1)">
<meta property="og:url" content="http://haoxuan.info/2022/11/05/%E6%96%87%E7%AB%A04/index.html">
<meta property="og:site_name" content="HaoXuanğŸ¥XiaoFu">
<meta property="og:description" content="Ajaxå­¦ä¹ ç¬”è®°(1)">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://haoxuan.info/img/%E5%8E%9F%E7%A5%9E1%20(7).jpg">
<meta property="article:published_time" content="2022-11-04T16:00:00.000Z">
<meta property="article:modified_time" content="2022-11-15T12:53:42.571Z">
<meta property="article:author" content="ç›–ä¸–è‹±é›„æ˜Šè½©">
<meta property="article:tag" content="å‰ç«¯">
<meta property="article:tag" content="Ajax">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://haoxuan.info/img/%E5%8E%9F%E7%A5%9E1%20(7).jpg"><link rel="shortcut icon" href="/img/pai.ico"><link rel="canonical" href="http://haoxuan.info/2022/11/05/%E6%96%87%E7%AB%A04/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Ajaxå­¦ä¹ (1)',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-15 20:53:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/5.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> æ¸¸æˆ</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-folder-open"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/fu/"><i class="fa-fw fas fa-thin fa-face-kiss-beam"></i><span> Fu</span></a></div><div class="menus_item"><a class="site-page" href="/aboutmy/"><i class="fa-fw fa-solid fa-heart"></i><span> å…³äºæˆ‘</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/%E5%8E%9F%E7%A5%9E1%20(7).jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">HaoXuanğŸ¥XiaoFu</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> æ¸¸æˆ</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-folder-open"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/fu/"><i class="fa-fw fas fa-thin fa-face-kiss-beam"></i><span> Fu</span></a></div><div class="menus_item"><a class="site-page" href="/aboutmy/"><i class="fa-fw fa-solid fa-heart"></i><span> å…³äºæˆ‘</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Ajaxå­¦ä¹ (1)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-11-04T16:00:00.000Z" title="å‘è¡¨äº 2022-11-05 00:00:00">2022-11-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-11-15T12:53:42.571Z" title="æ›´æ–°äº 2022-11-15 20:53:42">2022-11-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Ajax/">Ajax</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><hr>
<h1 id="Ajaxç¬¬ä¸€å¤©"><a href="#Ajaxç¬¬ä¸€å¤©" class="headerlink" title="Ajaxç¬¬ä¸€å¤©"></a>Ajaxç¬¬ä¸€å¤©</h1><h2 id="1-æœåŠ¡å™¨çš„åŸºæœ¬æ¦‚å¿µ"><a href="#1-æœåŠ¡å™¨çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1.æœåŠ¡å™¨çš„åŸºæœ¬æ¦‚å¿µ"></a>1.æœåŠ¡å™¨çš„åŸºæœ¬æ¦‚å¿µ</h2><h3 id="1-1-URLåœ°å€"><a href="#1-1-URLåœ°å€" class="headerlink" title="1.1 URLåœ°å€"></a>1.1 URLåœ°å€</h3><p>â€‹	URLï¼ˆå…¨ç§°æ˜¯UniformResourceLocatorï¼‰ä¸­æ–‡å«ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œç”¨äºæ ‡è¯†äº’è”ç½‘ä¸Šæ¯ä¸ªèµ„æºçš„å”¯ä¸€å­˜æ”¾ä½ç½®ã€‚æµè§ˆå™¨åªæœ‰é€šè¿‡URLåœ°å€ï¼Œæ‰èƒ½æ­£ç¡®å®šä½èµ„æºçš„å­˜æ”¾ä½ç½®ï¼Œä»è€ŒæˆåŠŸè®¿é—®åˆ°å¯¹åº”çš„èµ„æºã€‚</p>
<p>URLåœ°å€ä¸€èˆ¬ç”±ä¸‰éƒ¨ç»„æˆï¼š</p>
<p>â€‹	â‘ å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åè®®<br>    â‘¡å­˜æœ‰è¯¥èµ„æºçš„æœåŠ¡å™¨åç§°<br>    â‘¢èµ„æºåœ¨æœåŠ¡å™¨ä¸Šå…·ä½“çš„å­˜æ”¾ä½ç½®</p>
<h3 id="1-2-ç½‘é¡µçš„æ‰“å¼€è¿‡ç¨‹"><a href="#1-2-ç½‘é¡µçš„æ‰“å¼€è¿‡ç¨‹" class="headerlink" title="1.2 ç½‘é¡µçš„æ‰“å¼€è¿‡ç¨‹"></a>1.2 ç½‘é¡µçš„æ‰“å¼€è¿‡ç¨‹</h3><p>â€‹	å¦‚æœè¦åœ¨ç½‘é¡µä¸­è¯·æ±‚æœåŠ¡å™¨ä¸Šçš„æ•°æ®èµ„æºï¼Œåˆ™éœ€è¦ç”¨åˆ° <code>XMLHttpRequest</code>å¯¹è±¡ã€‚</p>
<p>â€‹	<strong>XMLHttpRequestï¼ˆç®€ç§° xhrï¼‰</strong>æ˜¯æµè§ˆå™¨æä¾›çš„js æˆå‘˜ï¼Œé€šè¿‡å®ƒï¼Œå¯ä»¥è¯·æ±‚æœåŠ¡å™¨ä¸Šçš„æ•°æ®èµ„æºã€‚</p>
<blockquote>
<p>â€‹	é€šä¿¡è¿‡ç¨‹ï¼Œåˆ†ä¸º     <code>è¯·æ±‚â€“å¤„ç†â€“å“åº” </code>  ä¸‰ä¸ªæ­¥éª¤ã€‚<br>    â‘¡ç½‘é¡µä¸­çš„æ¯ä¸€ä¸ªèµ„æºï¼Œéƒ½æ˜¯é€šè¿‡ è¯·æ±‚â€“å¤„ç†â€“å“åº”çš„æ–¹å¼ä»æœåŠ¡å™¨è·å–å›æ¥çš„ã€‚</p>
</blockquote>
<h3 id="1-3-è¯·æ±‚æœåŠ¡å™¨æ–¹å¼"><a href="#1-3-è¯·æ±‚æœåŠ¡å™¨æ–¹å¼" class="headerlink" title="1.3 è¯·æ±‚æœåŠ¡å™¨æ–¹å¼"></a>1.3 è¯·æ±‚æœåŠ¡å™¨æ–¹å¼</h3><p>â€‹	å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œè¯·æ±‚çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæœ€å¸¸è§çš„ä¸¤ç§è¯·æ±‚æ–¹å¼åˆ†åˆ«ä¸ºgetå’Œpostè¯·æ±‚ã€‚</p>
<h4 id="1-3-1-get-è¯·æ±‚"><a href="#1-3-1-get-è¯·æ±‚" class="headerlink" title="1.3.1 get è¯·æ±‚"></a>1.3.1 get è¯·æ±‚</h4><p>â€‹	é€šå¸¸ç”¨äºè·å–æœåŠ¡ç«¯èµ„æºï¼ˆå‘æœåŠ¡å™¨è¦èµ„æºï¼‰</p>
<p>â€‹        ä¾‹å¦‚ï¼šæ ¹æ® URLåœ°å€ï¼Œä»æœåŠ¡å™¨è·å–HTMLæ–‡ä»¶ã€cssæ–‡ä»¶ã€jsæ–‡ä»¶ã€å›¾ç‰‡æ–‡ä»¶ã€æ•°æ®èµ„æºç­‰</p>
<h4 id="1-3-2-post-è¯·æ±‚"><a href="#1-3-2-post-è¯·æ±‚" class="headerlink" title="1.3.2 post è¯·æ±‚"></a>1.3.2 post è¯·æ±‚</h4><p>â€‹	é€šå¸¸ç”¨äºå‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼ˆå¾€æœåŠ¡å™¨å‘é€èµ„æºï¼‰</p>
<p>â€‹        ä¾‹å¦‚ï¼šç™»å½•æ—¶å‘æœåŠ¡å™¨æäº¤çš„ç™»å½•ä¿¡æ¯ã€æ³¨å†Œæ—¶å‘æœåŠ¡å™¨æäº¤çš„æ³¨å†Œä¿¡æ¯ã€æ·»åŠ ç”¨æˆ·æ—¶å‘æœåŠ¡å™¨æäº¤çš„ç”¨æˆ·ä¿¡æ¯ç­‰å„ç§æ•°æ®æäº¤æ“ä½œ</p>
<h2 id="2-äº†è§£Ajax"><a href="#2-äº†è§£Ajax" class="headerlink" title="2.äº†è§£Ajax"></a>2.äº†è§£Ajax</h2><p>â€‹	Ajaxçš„å…¨ç§°æ˜¯AsynchronousJavascript And XMLï¼ˆå¼‚æ­¥ JavaScriptå’ŒXMLï¼‰ã€‚</p>
<p>â€‹	é€šä¿—çš„ç†è§£ï¼šåœ¨ç½‘é¡µä¸­åˆ©ç”¨XMLHttpRequestå¯¹è±¡å’ŒæœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤äº’çš„æ–¹å¼ï¼Œå°±æ˜¯Ajaxã€‚</p>
<h3 id="2-1-å…¸å‹åº”ç”¨åœºæ™¯"><a href="#2-1-å…¸å‹åº”ç”¨åœºæ™¯" class="headerlink" title="2.1 å…¸å‹åº”ç”¨åœºæ™¯"></a>2.1 å…¸å‹åº”ç”¨åœºæ™¯</h3><p>â€‹	ç”¨æˆ·åæ£€æµ‹ï¼šæ³¨å†Œç”¨æˆ·æ—¶ï¼Œé€šè¿‡ajaxçš„å½¢å¼ï¼ŒåŠ¨æ€æ£€æµ‹ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨<br>    æœç´¢æç¤ºï¼šå½“è¾“å…¥æœç´¢å…³é”®å­—æ—¶ï¼Œé€šè¿‡ajaxçš„å½¢å¼ï¼ŒåŠ¨æ€åŠ è½½æœç´¢æç¤ºåˆ—è¡¨<br>    æ•°æ®åˆ†é¡µæ˜¾ç¤ºï¼šå½“ç‚¹å‡»é¡µç å€¼çš„æ—¶å€™ï¼Œé€šè¿‡ajaxçš„å½¢å¼ï¼Œæ ¹æ®é¡µç å€¼åŠ¨æ€åˆ·æ–°è¡¨æ ¼çš„æ•°æ®<br>    æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼šæ•°æ®çš„æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢æ“ä½œï¼Œéƒ½éœ€è¦é€šè¿‡ajaxçš„å½¢å¼ï¼Œæ¥å®ç°æ•°æ®çš„äº¤äº’</p>
<h3 id="2-2-äº†è§£jQueryä¸­çš„Ajax"><a href="#2-2-äº†è§£jQueryä¸­çš„Ajax" class="headerlink" title="2.2 äº†è§£jQueryä¸­çš„Ajax"></a>2.2 äº†è§£jQueryä¸­çš„Ajax</h3><p>â€‹	æµè§ˆå™¨ä¸­æä¾›çš„XMLHttpRequest ç”¨æ³•æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥jQueryå¯¹XMLHttpRequestè¿›è¡Œäº†å°è£…ï¼Œæä¾›äº†ä¸€ç³»åˆ—Ajaxç›¸å…³çš„å‡½æ•°ï¼Œæå¤§åœ°é™ä½äº† Ajax çš„ä½¿ç”¨éš¾åº¦ã€‚</p>
<h2 id="3-å‘èµ·è¯·æ±‚çš„æ–¹æ³•"><a href="#3-å‘èµ·è¯·æ±‚çš„æ–¹æ³•" class="headerlink" title="3.å‘èµ·è¯·æ±‚çš„æ–¹æ³•"></a>3.å‘èµ·è¯·æ±‚çš„æ–¹æ³•</h2><h3 id="3-1-get"><a href="#3-1-get" class="headerlink" title="3.1 $.get()"></a>3.1 $.get()</h3><p>â€‹	jQueryä¸­$.get()å‡½æ•°çš„åŠŸèƒ½å•ä¸€ï¼Œä¸“é—¨ç”¨æ¥å‘èµ·getè¯·æ±‚ï¼Œä»è€Œå°†æœåŠ¡å™¨ä¸Šçš„èµ„æºè¯·æ±‚åˆ°å®¢æˆ·ç«¯æ¥è¿›è¡Œä½¿ç”¨ã€‚</p>
<p>â€‹	è¯­æ³•ï¼š <code>$.get(url, [data], [callback])</code></p>
<table>
<thead>
<tr>
<th align="center">å‚æ•°å</th>
<th align="center">å‚æ•°ç±»å‹</th>
<th align="center">æ˜¯å¦å¿…é€‰</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">url</td>
<td align="center">string</td>
<td align="center">æ˜¯</td>
<td align="center">è¦è¯·æ±‚çš„èµ„æºåœ°å€</td>
</tr>
<tr>
<td align="center">data</td>
<td align="center">object</td>
<td align="center">å¦</td>
<td align="center">è¯·æ±‚èµ„æºæœŸé—´è¦æºå¸¦çš„å‚æ•°</td>
</tr>
<tr>
<td align="center">callback</td>
<td align="center">function</td>
<td align="center">å¦</td>
<td align="center">è¯·æ±‚æˆåŠŸæ—¶çš„å›è°ƒå‡½æ•°</td>
</tr>
</tbody></table>
<p>â€‹	ä½¿ç”¨$.get()å‡½æ•°å‘èµ·ä¸å¸¦å‚æ•°çš„è¯·æ±‚æ—¶ï¼Œç›´æ¥æä¾›è¯·æ±‚çš„ URL åœ°å€å’Œè¯·æ±‚æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°å³å¯ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>,Â <span class="keyword">function</span>(<span class="params">res</span>)Â &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// è¿™é‡Œçš„ res æ˜¯æœåŠ¡å™¨è¿”å›çš„æ•°æ®</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>â€‹	ä½¿ç”¨$.get()å‡½æ•°å‘èµ·å¸¦å‚æ•°çš„è¯·æ±‚æ—¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>,Â &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;, <span class="keyword">function</span>(<span class="params">res</span>)Â &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//  å¤§æ‹¬å·ä¸è¦å¿˜è®°</span></span><br></pre></td></tr></table></figure>

<p><code>$(document).ready(function () &#123;&#125;)</code> </p>
<p><strong>å½“ DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ å·²ç»åŠ è½½ï¼Œå¹¶ä¸”é¡µé¢ï¼ˆåŒ…æ‹¬å›¾åƒï¼‰å·²ç»å®Œå…¨å‘ˆç°æ—¶ï¼Œä¼šå‘ç”Ÿ ready äº‹ä»¶</strong></p>
<h3 id="3-2-post"><a href="#3-2-post" class="headerlink" title="3.2 $.post()"></a>3.2 $.post()</h3><p>â€‹	jQueryä¸­$.post()å‡½æ•°çš„åŠŸèƒ½å•ä¸€ï¼Œä¸“é—¨ç”¨æ¥å‘èµ·postè¯·æ±‚ï¼Œä»è€Œå‘æœåŠ¡å™¨æäº¤æ•°æ®ã€‚</p>
<p>â€‹	è¯­æ³•: $.post(url, [data], [callback])</p>
<table>
<thead>
<tr>
<th align="center">å‚æ•°å</th>
<th align="center">å‚æ•°ç±»å‹</th>
<th align="center">æ˜¯å¦å¿…é€‰</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">url</td>
<td align="center">string</td>
<td align="center">æ˜¯</td>
<td align="center">æäº¤æ•°æ®çš„åœ°å€</td>
</tr>
<tr>
<td align="center">data</td>
<td align="center">object</td>
<td align="center">å¦</td>
<td align="center">è¦æäº¤çš„æ•°æ®</td>
</tr>
<tr>
<td align="center">callback</td>
<td align="center">function</td>
<td align="center">å¦</td>
<td align="center">æ•°æ®æäº¤æˆåŠŸæ—¶çš„å›è°ƒå‡½æ•°</td>
</tr>
</tbody></table>
<p>â€‹	ä½¿ç”¨$.post()å‘æœåŠ¡å™¨æäº¤æ•°æ®çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">post</span>(</span><br><span class="line">   <span class="string">&#x27;http://www.liulongbin.top:3006/api/addbook&#x27;</span>, <span class="comment">// è¯·æ±‚çš„URLåœ°å€</span></span><br><span class="line">   &#123; <span class="attr">bookname</span>: <span class="string">&#x27;æ°´æµ’ä¼ &#x27;</span>, <span class="attr">author</span>: <span class="string">&#x27;æ–½è€åºµ&#x27;</span>, <span class="attr">publisher</span>: <span class="string">&#x27;ä¸Šæµ·å›¾ä¹¦å‡ºç‰ˆç¤¾&#x27;</span> &#125;, <span class="comment">// æäº¤çš„æ•°æ®</span></span><br><span class="line">   <span class="keyword">function</span>(<span class="params">res</span>) &#123; <span class="comment">// å›è°ƒå‡½æ•°</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="3-3-ajax"><a href="#3-3-ajax" class="headerlink" title="3.3 $.ajax()"></a>3.3 $.ajax()</h3><p>â€‹	ç›¸æ¯”ä¸Šé¢ä¸¤ç§ï¼ŒjQuery ä¸­æä¾›çš„$.ajax()å‡½æ•°ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½æ¯”è¾ƒç»¼åˆçš„å‡½æ•°ï¼Œå®ƒå…è®¸æˆ‘ä»¬å¯¹Ajaxè¯·æ±‚è¿›è¡Œæ›´è¯¦ç»†çš„é…ç½®ã€‚</p>
<p>â€‹	è¯­æ³•:  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">   <span class="attr">type</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// è¯·æ±‚çš„æ–¹å¼ï¼Œä¾‹å¦‚ GET æˆ– POST</span></span><br><span class="line">   <span class="attr">url</span>: <span class="string">&#x27;&#x27;</span>,  <span class="comment">// è¯·æ±‚çš„ URL åœ°å€</span></span><br><span class="line">   <span class="attr">data</span>: &#123; &#125;,<span class="comment">// è¿™æ¬¡è¯·æ±‚è¦æºå¸¦çš„æ•°æ®</span></span><br><span class="line">   <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123; &#125; <span class="comment">// è¯·æ±‚æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="4-æ¥å£"><a href="#4-æ¥å£" class="headerlink" title="4.æ¥å£"></a>4.æ¥å£</h2><p>â€‹	ä½¿ç”¨Ajaxè¯·æ±‚æ•°æ®æ—¶ï¼Œè¢«è¯·æ±‚çš„ URL åœ°å€ï¼Œå°±å«åšæ•°æ®æ¥å£ï¼ˆç®€ç§°æ¥å£ï¼‰ã€‚åŒæ—¶ï¼Œæ¯ä¸ªæ¥å£å¿…é¡»æœ‰è¯·æ±‚æ–¹å¼ã€‚</p>
<h3 id="4-1-æ¥å£æµ‹è¯•å·¥å…·PostMan"><a href="#4-1-æ¥å£æµ‹è¯•å·¥å…·PostMan" class="headerlink" title="4.1 æ¥å£æµ‹è¯•å·¥å…·PostMan"></a>4.1 æ¥å£æµ‹è¯•å·¥å…·PostMan</h3><p>â€‹	ä½¿ç”¨PostManæµ‹è¯•GETæ¥å£æ­¥éª¤ï¼š</p>
<p>â€‹		1.é€‰æ‹©è¯·æ±‚çš„æ–¹å¼<br>        2.å¡«å†™è¯·æ±‚çš„URLåœ°å€<br>        3.å¡«å†™è¯·æ±‚çš„å‚æ•°<br>        4.ç‚¹å‡» SendæŒ‰é’®å‘èµ·GETè¯·æ±‚<br>        5.æŸ¥çœ‹æœåŠ¡å™¨å“åº”çš„ç»“æœ</p>
<p>â€‹	ä½¿ç”¨PostManæµ‹è¯•POSTæ¥å£æ­¥éª¤ï¼š</p>
<p>â€‹		1.é€‰æ‹©è¯·æ±‚çš„æ–¹å¼<br>        2.å¡«å†™è¯·æ±‚çš„URLåœ°å€<br>        3.é€‰æ‹© Bodyé¢æ¿å¹¶å‹¾é€‰æ•°æ®æ ¼å¼<br>        4.å¡«å†™è¦å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®<br>        5.ç‚¹å‡» SendæŒ‰é’®å‘èµ·POSTè¯·æ±‚<br>        6.æŸ¥çœ‹æœåŠ¡å™¨å“åº”çš„ç»“æœ</p>
<h3 id="4-2-æ¥å£æ–‡æ¡£"><a href="#4-2-æ¥å£æ–‡æ¡£" class="headerlink" title="4.2 æ¥å£æ–‡æ¡£"></a>4.2 æ¥å£æ–‡æ¡£</h3><p>â€‹	æ¥å£æ–‡æ¡£ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æ¥å£çš„è¯´æ˜æ–‡æ¡£ï¼Œå®ƒæ˜¯æˆ‘ä»¬è°ƒç”¨æ¥å£çš„ä¾æ®ã€‚å¥½çš„æ¥å£æ–‡æ¡£åŒ…å«äº†å¯¹æ¥å£URLï¼Œå‚æ•°ä»¥åŠè¾“å‡ºå†…å®¹çš„è¯´æ˜ï¼Œæˆ‘ä»¬å‚ç…§æ¥å£æ–‡æ¡£å°±èƒ½æ–¹ä¾¿çš„çŸ¥é“æ¥å£çš„ä½œç”¨ï¼Œä»¥åŠæ¥å£å¦‚ä½•è¿›è¡Œè°ƒç”¨ã€‚</p>
<h3 id="4-3-ç»„æˆéƒ¨åˆ†"><a href="#4-3-ç»„æˆéƒ¨åˆ†" class="headerlink" title="4.3 ç»„æˆéƒ¨åˆ†"></a>4.3 ç»„æˆéƒ¨åˆ†</h3><p>â€‹	æ¥å£æ–‡æ¡£å¯ä»¥åŒ…å«å¾ˆå¤šä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æŒ‰éœ€è¿›è¡Œç²¾ç®€ï¼Œä¸è¿‡ï¼Œä¸€ä¸ªåˆæ ¼çš„æ¥å£æ–‡æ¡£ï¼Œåº”è¯¥åŒ…å«ä»¥ä¸‹6é¡¹å†…å®¹ï¼Œä»è€Œä¸ºæ¥å£çš„è°ƒç”¨æä¾›ä¾æ®ï¼š</p>
<p>â€‹	1.æ¥å£åç§°ï¼šç”¨æ¥æ ‡è¯†å„ä¸ªæ¥å£çš„ç®€å•è¯´æ˜ï¼Œå¦‚ç™»å½•æ¥å£ï¼Œè·å–å›¾ä¹¦åˆ—è¡¨æ¥å£ç­‰ã€‚<br>    2.æ¥å£URLï¼šæ¥å£çš„è°ƒç”¨åœ°å€ã€‚<br>    3.è°ƒç”¨æ–¹å¼ï¼šæ¥å£çš„è°ƒç”¨æ–¹å¼ï¼Œå¦‚GETæˆ–POSTã€‚<br>    4.å‚æ•°æ ¼å¼ï¼šæ¥å£éœ€è¦ä¼ é€’çš„å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°å¿…é¡»åŒ…å«å‚æ•°åç§°ã€å‚æ•°ç±»å‹ã€æ˜¯å¦å¿…é€‰ã€å‚æ•°è¯´æ˜è¿™4é¡¹å†…å®¹ã€‚<br>    5.å“åº”æ ¼å¼ï¼šæ¥å£çš„è¿”å›å€¼çš„è¯¦ç»†æè¿°ï¼Œä¸€èˆ¬åŒ…å«æ•°æ®åç§°ã€æ•°æ®ç±»å‹ã€è¯´æ˜3é¡¹å†…å®¹ã€‚<br>    6.è¿”å›ç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰ï¼šé€šè¿‡å¯¹è±¡çš„å½¢å¼ï¼Œä¾‹ä¸¾æœåŠ¡å™¨è¿”å›æ•°æ®çš„ç»“æ„ã€‚</p>
<h2 id="5-æ¡ˆä¾‹-å›¾ä¹¦ç®¡ç†"><a href="#5-æ¡ˆä¾‹-å›¾ä¹¦ç®¡ç†" class="headerlink" title="5.æ¡ˆä¾‹-å›¾ä¹¦ç®¡ç†"></a>5.æ¡ˆä¾‹-å›¾ä¹¦ç®¡ç†</h2><p>â€‹	(1)æ¸²æŸ“UIç»“æ„</p>
<p>â€‹	(2)æ¡ˆä¾‹ç”¨åˆ°çš„åº“å’Œæ’ä»¶</p>
<p>â€‹		ç”¨åˆ°çš„cssåº“bootstrap.css<br>        ç”¨åˆ°çš„javascriptåº“jquery.js<br>        ç”¨åˆ°çš„vscode æ’ä»¶Bootstrap 3 Snippets</p>
<p>â€‹	(3)æ¸²æŸ“å›¾ä¹¦åˆ—è¡¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getBookList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 1. å‘èµ· ajax è¯·æ±‚è·å–å›¾ä¹¦åˆ—è¡¨æ•°æ®</span></span><br><span class="line">    $.<span class="title function_">get</span>(<span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>, <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">// 2. è·å–åˆ—è¡¨æ•°æ®æ˜¯å¦æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">status</span> !== <span class="number">200</span>) <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;è·å–å›¾ä¹¦åˆ—è¡¨å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line">        <span class="comment">// 3. æ¸²æŸ“é¡µé¢ç»“æ„</span></span><br><span class="line">        <span class="keyword">var</span> rows = []</span><br><span class="line">        $.<span class="title function_">each</span>(res.<span class="property">data</span>, <span class="keyword">function</span>(<span class="params">i, item</span>) &#123; <span class="comment">// 4. å¾ªç¯æ‹¼æ¥å­—ç¬¦ä¸²</span></span><br><span class="line">            rows.<span class="title function_">push</span>(<span class="string">&#x27;&lt;tr&gt;&lt;td&gt;&#x27;</span> + item.<span class="property">id</span> + <span class="string">&#x27;&lt;/td&gt;&lt;td&gt;&#x27;</span> + item.<span class="property">bookname</span> + <span class="string">&#x27;&lt;/td&gt;&lt;td&gt;&#x27;</span> + item.<span class="property">author</span> + <span class="string">&#x27;&lt;/td&gt;&lt;td&gt;&#x27;</span> + item.<span class="property">publisher</span> + <span class="string">&#x27;&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;javascript:;&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="string">&#x27;#bookBody&#x27;</span>).<span class="title function_">empty</span>().<span class="title function_">append</span>(rows.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)) <span class="comment">// 5. æ¸²æŸ“è¡¨æ ¼ç»“æ„</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹	(4)åˆ é™¤å›¾ä¹¦</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. ä¸ºæŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="line">$(<span class="string">&#x27;tbody&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="string">&#x27;.del&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 2. è·å–è¦åˆ é™¤çš„å›¾ä¹¦çš„ Id</span></span><br><span class="line">    <span class="keyword">var</span> id = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&#x27;data-id&#x27;</span>)</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123; <span class="comment">// 3. å‘èµ· ajax è¯·æ±‚ï¼Œæ ¹æ® id åˆ é™¤å¯¹åº”çš„å›¾ä¹¦</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;http://www.liulongbin.top:3006/api/delbook&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: &#123; <span class="attr">id</span>: id &#125;,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">status</span> !== <span class="number">200</span>) <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;åˆ é™¤å›¾ä¹¦å¤±è´¥ï¼&#x27;</span>) </span><br><span class="line">            <span class="title function_">getBookList</span>() <span class="comment">// 4. åˆ é™¤æˆåŠŸåï¼Œé‡æ–°åŠ è½½å›¾ä¹¦åˆ—è¡¨</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>â€‹	(5)æ·»åŠ å›¾ä¹¦</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. æ£€æµ‹å†…å®¹æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">var</span> bookname = $(<span class="string">&#x27;#bookname&#x27;</span>).<span class="title function_">val</span>()</span><br><span class="line"><span class="keyword">var</span> author = $(<span class="string">&#x27;#author&#x27;</span>).<span class="title function_">val</span>()</span><br><span class="line"><span class="keyword">var</span> publisher = $(<span class="string">&#x27;#publisher&#x27;</span>).<span class="title function_">val</span>()</span><br><span class="line"><span class="keyword">if</span> (bookname === <span class="string">&#x27;&#x27;</span> || author === <span class="string">&#x27;&#x27;</span> || publisher === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;è¯·å®Œæ•´å¡«å†™å›¾ä¹¦ä¿¡æ¯ï¼&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2. å‘èµ· ajax è¯·æ±‚ï¼Œæ·»åŠ å›¾ä¹¦ä¿¡æ¯</span></span><br><span class="line">$.<span class="title function_">post</span>(</span><br><span class="line">    <span class="string">&#x27;http://www.liulongbin.top:3006/api/addbook&#x27;</span>,</span><br><span class="line">    &#123; <span class="attr">bookname</span>: bookname, <span class="attr">author</span>: author, <span class="attr">publisher</span>: publisher &#125;,</span><br><span class="line">    <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">// 3. åˆ¤æ–­æ˜¯å¦æ·»åŠ æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">status</span> !== <span class="number">201</span>) <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;æ·»åŠ å›¾ä¹¦å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line">        <span class="title function_">getBookList</span>() <span class="comment">// 4. æ·»åŠ æˆåŠŸåï¼Œåˆ·æ–°å›¾ä¹¦åˆ—è¡¨</span></span><br><span class="line">        $(<span class="string">&#x27;input:text&#x27;</span>).<span class="title function_">val</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">// 5. æ¸…ç©ºæ–‡æœ¬æ¡†å†…å®¹</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="6-æ¡ˆä¾‹-èŠå¤©æœºå™¨äºº"><a href="#6-æ¡ˆä¾‹-èŠå¤©æœºå™¨äºº" class="headerlink" title="6.æ¡ˆä¾‹-èŠå¤©æœºå™¨äºº"></a>6.æ¡ˆä¾‹-èŠå¤©æœºå™¨äºº</h2><p>æ­¥éª¤ï¼š</p>
<p>â‘ æ¢³ç†æ¡ˆä¾‹çš„ä»£ç ç»“æ„</p>
<p>â€‹	æ¢³ç†é¡µé¢çš„ UIå¸ƒå±€<br>    å°†ä¸šåŠ¡ä»£ç æŠ½ç¦»åˆ° chat.jsä¸­<br>    äº†è§£ resetui()å‡½æ•°çš„ä½œç”¨</p>
<p>â‘¡å°†ç”¨æˆ·è¾“å…¥çš„å†…å®¹æ¸²æŸ“åˆ°èŠå¤©çª—å£</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â ä¸ºå‘é€æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="line">$(<span class="string">&#x27;#btnSend&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,Â <span class="keyword">function</span>Â (<span class="params"></span>)Â &#123;</span><br><span class="line">Â Â Â Â <span class="keyword">var</span>Â textÂ =Â $(<span class="string">&#x27;#ipt&#x27;</span>).<span class="title function_">val</span>().<span class="title function_">trim</span>() <span class="comment">//Â è·å–ç”¨æˆ·è¾“å…¥çš„å†…å®¹</span></span><br><span class="line">Â Â Â Â <span class="keyword">if</span>Â (text.<span class="property">length</span>Â &lt;=Â <span class="number">0</span>)Â &#123; <span class="comment">//Â åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å†…å®¹æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">Â Â Â Â Â Â  <span class="keyword">return</span>Â $(<span class="string">&#x27;#ipt&#x27;</span>).<span class="title function_">val</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="comment">//Â å°†ç”¨æˆ·è¾“å…¥çš„å†…å®¹æ˜¾ç¤ºåˆ°èŠå¤©çª—å£ä¸­</span></span><br><span class="line">Â Â Â Â $(<span class="string">&#x27;#talk_list&#x27;</span>).<span class="title function_">append</span>(<span class="string">&#x27;&lt;liÂ class=&quot;right_word&quot;&gt;&lt;imgÂ src=&quot;img/person02.png&quot;Â /&gt;Â &lt;span&gt;&#x27;</span>Â +Â textÂ +Â <span class="string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>)</span><br><span class="line">Â Â Â Â <span class="title function_">resetui</span>() <span class="comment">// é‡ç½®æ»šåŠ¨æ¡çš„ä½ç½®</span></span><br><span class="line">Â Â Â Â $(â€˜#iptâ€™).<span class="title function_">val</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">//Â æ¸…ç©ºè¾“å…¥æ¡†çš„å†…å®¹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> å‘èµ·è¯·æ±‚ï¼Œè·å–èŠå¤©æ¶ˆæ¯</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>â‘¢å‘èµ·è¯·æ±‚è·å–èŠå¤©æ¶ˆæ¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>Â <span class="title function_">getMsg</span>(<span class="params">text</span>)Â &#123;</span><br><span class="line">Â Â Â Â $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">Â Â Â Â Â Â <span class="attr">method</span>:Â <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">url</span>:Â <span class="string">&#x27;http://ajax.frontend.itheima.net:3006/api/robot&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">data</span>:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">spoken</span>:Â text</span><br><span class="line">Â Â Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">success</span>:Â <span class="keyword">function</span>Â (<span class="params">res</span>)Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">if</span>Â (res.<span class="property">message</span>Â ===Â <span class="string">&#x27;success&#x27;</span>)Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â   <span class="keyword">var</span>Â msgÂ =Â res.<span class="property">data</span>.<span class="property">info</span>.<span class="property">text</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â   $(<span class="string">&#x27;#talk_list&#x27;</span>).<span class="title function_">append</span>(<span class="string">&#x27;&lt;liÂ class=&quot;left_word&quot;&gt;&lt;imgÂ src=&quot;img/person01.png&quot;Â /&gt;Â &lt;span&gt;&#x27;</span>Â +Â msgÂ +Â <span class="string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>)</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â   <span class="title function_">resetui</span>()</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â   <span class="comment">// <span class="doctag">TODO:</span> å‘èµ·è¯·æ±‚ï¼Œå°†æœºå™¨äººçš„èŠå¤©æ¶ˆæ¯è½¬ä¸ºè¯­éŸ³æ ¼å¼</span></span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â‘£å°†æœºå™¨äººçš„èŠå¤©å†…å®¹è½¬ä¸ºè¯­éŸ³</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="keyword">function</span>Â <span class="title function_">getVoice</span>(<span class="params">text</span>)Â &#123;</span><br><span class="line">Â Â Â Â $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">Â Â Â Â Â Â <span class="attr">method</span>:Â <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">url</span>:Â <span class="string">&#x27;http://ajax.frontend.itheima.net:3006/api/synthesize&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">data</span>:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">text</span>:Â text</span><br><span class="line">Â Â Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">success</span>:Â <span class="keyword">function</span>Â (<span class="params">res</span>)Â &#123;</span><br><span class="line"><span class="comment">// å¦‚æœè¯·æ±‚æˆåŠŸï¼Œåˆ™ res.voiceUrl æ˜¯æœåŠ¡å™¨è¿”å›çš„éŸ³é¢‘ URL åœ°å€</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">if</span>Â (res.<span class="property">status</span>Â ===Â <span class="number">200</span>)Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â   $(<span class="string">&#x27;#voice&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>,Â res.<span class="property">voiceUrl</span>)</span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â &#125;)</span><br><span class="line">Â Â &#125;</span><br></pre></td></tr></table></figure>

<p>â‘¤é€šè¿‡ <audio> æ’­æ”¾è¯­éŸ³</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--Â éŸ³é¢‘æ’­æ”¾è¯­éŸ³å†…å®¹Â --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">audio</span>Â <span class="attr">src</span>=<span class="string">&quot;&quot;</span>Â <span class="attr">id</span>=<span class="string">&quot;voice&quot;</span>Â <span class="attr">autoplay</span>Â <span class="attr">style</span>=<span class="string">&quot;display:Â none;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>â‘¥ä½¿ç”¨å›è½¦é”®å‘é€æ¶ˆæ¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â è®©æ–‡æœ¬è¾“å…¥æ¡†å“åº”å›è½¦äº‹ä»¶åï¼Œæäº¤æ¶ˆæ¯</span></span><br><span class="line">$(<span class="string">&#x27;#ipt&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;keyup&#x27;</span>,Â <span class="keyword">function</span>Â (<span class="params">e</span>)Â &#123;</span><br><span class="line">    <span class="comment">// e.keyCode å¯ä»¥è·å–åˆ°å½“å‰æŒ‰é”®çš„ç¼–ç </span></span><br><span class="line">Â Â Â Â <span class="keyword">if</span>Â (e.<span class="property">keyCode</span>Â ===Â <span class="number">13</span>)Â &#123;</span><br><span class="line">        <span class="comment">// è°ƒç”¨æŒ‰é’®å…ƒç´ çš„ click å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡ç¼–ç¨‹çš„å½¢å¼è§¦å‘æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">Â Â Â Â Â Â   $(<span class="string">&#x27;#btnSend&#x27;</span>).<span class="title function_">click</span>()</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="Ajaxç¬¬äºŒå¤©"><a href="#Ajaxç¬¬äºŒå¤©" class="headerlink" title="Ajaxç¬¬äºŒå¤©"></a>Ajaxç¬¬äºŒå¤©</h1><hr>
<h2 id="1-formè¡¨å•çš„åŸºæœ¬ä½¿ç”¨"><a href="#1-formè¡¨å•çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.formè¡¨å•çš„åŸºæœ¬ä½¿ç”¨"></a>1.formè¡¨å•çš„åŸºæœ¬ä½¿ç”¨</h2><p>â€‹	è¡¨å•åœ¨ç½‘é¡µä¸­ä¸»è¦è´Ÿè´£æ•°æ®é‡‡é›†åŠŸèƒ½ã€‚HTMLä¸­çš„<form>æ ‡ç­¾ï¼Œå°±æ˜¯ç”¨äºé‡‡é›†ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ï¼Œå¹¶é€šè¿‡<form>æ ‡ç­¾çš„æäº¤æ“ä½œï¼ŒæŠŠé‡‡é›†åˆ°çš„ä¿¡æ¯æäº¤åˆ°æœåŠ¡å™¨ç«¯è¿›è¡Œå¤„ç†ã€‚</p>
<p>è¡¨å•ç”±ä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ç»„æˆï¼š</p>
<p>â€‹	è¡¨å•æ ‡ç­¾<br>    è¡¨å•åŸŸ<br>    è¡¨å•æŒ‰é’®</p>
<h3 id="1-1-formæ ‡ç­¾çš„å±æ€§"><a href="#1-1-formæ ‡ç­¾çš„å±æ€§" class="headerlink" title="1.1 formæ ‡ç­¾çš„å±æ€§"></a>1.1 formæ ‡ç­¾çš„å±æ€§</h3><p>â€‹	<form>æ ‡ç­¾ç”¨æ¥é‡‡é›†æ•°æ®ï¼Œ<form>æ ‡ç­¾çš„å±æ€§åˆ™æ˜¯ç”¨æ¥è§„å®šå¦‚ä½•æŠŠé‡‡é›†åˆ°çš„æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ã€‚</p>
<table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å€¼</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">action</td>
<td align="center">URLåœ°å€</td>
<td align="center">è§„å®šå½“æäº¤è¡¨å•æ—¶ï¼Œå‘ä½•å¤„å‘é€è¡¨å•æ•°æ®</td>
</tr>
<tr>
<td align="center">method</td>
<td align="center">getæˆ–post</td>
<td align="center">è§„å®šä»¥ä½•ç§æ–¹å¼æŠŠè¡¨å•æ•°æ®æäº¤åˆ°actionURL</td>
</tr>
<tr>
<td align="center">enctype</td>
<td align="center">application<br />multipart<br />text</td>
<td align="center">è§„å®šåœ¨å‘é€è¡¨å•æ•°æ®ä¹‹å‰å¦‚ä½•å¯¹å…¶è¿›è¡Œç¼–ç </td>
</tr>
<tr>
<td align="center">target</td>
<td align="center">blank self parent top</td>
<td align="center">è§„å®šåœ¨ä½•å¤„æ‰“å¼€actionURL</td>
</tr>
</tbody></table>
<h4 id="1-1-1-action"><a href="#1-1-1-action" class="headerlink" title="1.1.1 action"></a>1.1.1 action</h4><p>â€‹	action å±æ€§ç”¨æ¥è§„å®šå½“æäº¤è¡¨å•æ—¶ï¼Œå‘ä½•å¤„å‘é€è¡¨å•æ•°æ®ã€‚</p>
<p>â€‹	actionå±æ€§çš„å€¼åº”è¯¥æ˜¯åç«¯æä¾›çš„ä¸€ä¸ªURLåœ°å€ï¼Œè¿™ä¸ªURLåœ°å€ä¸“é—¨è´Ÿè´£æ¥æ”¶è¡¨å•æäº¤è¿‡æ¥çš„æ•°æ®ã€‚</p>
<p>â€‹	å½“<form>è¡¨å•åœ¨æœªæŒ‡å®šaction å±æ€§å€¼çš„æƒ…å†µä¸‹ï¼Œactionçš„é»˜è®¤å€¼ä¸ºå½“å‰é¡µé¢çš„URLåœ°å€ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>å½“æäº¤è¡¨å•åï¼Œé¡µé¢ä¼šç«‹å³è·³è½¬åˆ°actionå±æ€§æŒ‡å®šçš„URLåœ°å€</p>
<h4 id="1-1-2-target"><a href="#1-1-2-target" class="headerlink" title="1.1.2 target"></a>1.1.2 target</h4><p>â€‹	target å±æ€§ç”¨æ¥è§„å®šåœ¨ä½•å¤„æ‰“å¼€ action URLã€‚</p>
<p>â€‹	å®ƒçš„å¯é€‰å€¼æœ‰5ä¸ªï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œtargetçš„å€¼æ˜¯_selfï¼Œè¡¨ç¤ºåœ¨ç›¸åŒçš„æ¡†æ¶ä¸­æ‰“å¼€actionURLã€‚</p>
<table>
<thead>
<tr>
<th align="center">å€¼</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">_blank</td>
<td align="center">åœ¨æ–°çª—å£ä¸­æ‰“å¼€ã€‚</td>
</tr>
<tr>
<td align="center">_self</td>
<td align="center">é»˜è®¤ã€‚åœ¨ç›¸åŒçš„æ¡†æ¶ä¸­æ‰“å¼€ã€‚</td>
</tr>
<tr>
<td align="center">_parent</td>
<td align="center">åœ¨çˆ¶æ¡†æ¶é›†ä¸­æ‰“å¼€ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰</td>
</tr>
<tr>
<td align="center">_top</td>
<td align="center">åœ¨æ•´ä¸ªçª—å£ä¸­æ‰“å¼€ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰</td>
</tr>
<tr>
<td align="center">framename</td>
<td align="center">åœ¨æŒ‡å®šçš„æ¡†æ¶ä¸­æ‰“å¼€ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰</td>
</tr>
</tbody></table>
<h4 id="1-1-3-method"><a href="#1-1-3-method" class="headerlink" title="1.1.3 method"></a>1.1.3 method</h4><p>â€‹	method å±æ€§ç”¨æ¥è§„å®šä»¥ä½•ç§æ–¹å¼æŠŠè¡¨å•æ•°æ®æäº¤åˆ°actionURLã€‚</p>
<p>â€‹	å®ƒçš„å¯é€‰å€¼æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯getå’Œpostã€‚</p>
<p>â€‹	é»˜è®¤æƒ…å†µä¸‹ï¼Œmethodçš„å€¼ä¸ºgetï¼Œè¡¨ç¤ºé€šè¿‡URLåœ°å€çš„å½¢å¼ï¼ŒæŠŠè¡¨å•æ•°æ®æäº¤åˆ°actionURLã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<p>â€‹	getæ–¹å¼é€‚åˆç”¨æ¥æäº¤å°‘é‡çš„ã€ç®€å•çš„æ•°æ®ã€‚</p>
<p>â€‹	postæ–¹å¼é€‚åˆç”¨æ¥æäº¤å¤§é‡çš„ã€å¤æ‚çš„ã€æˆ–åŒ…å«æ–‡ä»¶ä¸Šä¼ çš„æ•°æ®ã€‚</p>
<p>â€‹	åœ¨å®é™…å¼€å‘ä¸­ï¼Œ<form>è¡¨å•çš„postæäº¤æ–¹å¼ç”¨çš„æœ€å¤šï¼Œå¾ˆå°‘ç”¨getã€‚ä¾‹å¦‚ç™»å½•ã€æ³¨å†Œã€æ·»åŠ æ•°æ®ç­‰è¡¨å•æ“ä½œï¼Œéƒ½éœ€è¦ä½¿ç”¨postæ–¹å¼æ¥æäº¤è¡¨å•ã€‚</p>
<h4 id="1-1-4-enctype"><a href="#1-1-4-enctype" class="headerlink" title="1.1.4 enctype"></a>1.1.4 enctype</h4><p>enctype å±æ€§ç”¨æ¥è§„å®šåœ¨å‘é€è¡¨å•æ•°æ®ä¹‹å‰å¦‚ä½•å¯¹æ•°æ®è¿›è¡Œç¼–ç ã€‚</p>
<p>å®ƒçš„å¯é€‰å€¼æœ‰ä¸‰ä¸ªï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œenctypeçš„å€¼ä¸ºapplication&#x2F;x-www-form-urlencodedï¼Œè¡¨ç¤ºåœ¨å‘é€å‰ç¼–ç æ‰€æœ‰çš„å­—ç¬¦ã€‚</p>
<table>
<thead>
<tr>
<th align="center">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">application&#x2F;x-www-form-urlencoded</td>
<td align="left">åœ¨å‘é€å‰ç¼–ç æ‰€æœ‰å­—ç¬¦ï¼ˆé»˜è®¤ï¼‰</td>
</tr>
<tr>
<td align="center">multipart&#x2F;form-data</td>
<td align="left">ä¸å¯¹å­—ç¬¦ç¼–ç ã€‚åœ¨ä½¿ç”¨åŒ…å«æ–‡ä»¶ä¸Šä¼ æ§ä»¶çš„è¡¨å•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¯¥å€¼ã€‚</td>
</tr>
<tr>
<td align="center">text&#x2F;plain</td>
<td align="left">ç©ºæ ¼è½¬æ¢ä¸º â€œ+â€  åŠ å·ï¼Œä½†ä¸å¯¹ç‰¹æ®Šå­—ç¬¦ç¼–ç ã€‚ï¼ˆå¾ˆå°‘ç”¨ï¼‰</td>
</tr>
</tbody></table>
<p><strong>æ³¨æ„ï¼š</strong></p>
<p>â€‹	åœ¨æ¶‰åŠåˆ°æ–‡ä»¶ä¸Šä¼ çš„æ“ä½œæ—¶ï¼Œå¿…é¡»å°†enctypeçš„å€¼è®¾ç½®ä¸ºmultipart&#x2F;form-data</p>
<p>â€‹	å¦‚æœè¡¨å•çš„æäº¤ä¸æ¶‰åŠåˆ°æ–‡ä»¶ä¸Šä¼ æ“ä½œï¼Œåˆ™ç›´æ¥å°†enctypeçš„å€¼è®¾ç½®ä¸ºapplication&#x2F;x-www-form-urlencodedå³å¯ï¼	</p>
<h3 id="1-2-è¡¨å•çš„åŒæ­¥æäº¤"><a href="#1-2-è¡¨å•çš„åŒæ­¥æäº¤" class="headerlink" title="1.2 è¡¨å•çš„åŒæ­¥æäº¤"></a>1.2 è¡¨å•çš„åŒæ­¥æäº¤</h3><p>â€‹	é€šè¿‡ç‚¹å‡»submitæŒ‰é’®ï¼Œè§¦å‘è¡¨å•æäº¤çš„æ“ä½œï¼Œä»è€Œä½¿é¡µé¢è·³è½¬åˆ°actionURL çš„è¡Œä¸ºï¼Œå«åšè¡¨å•çš„åŒæ­¥æäº¤ã€‚</p>
<h3 id="1-2-1-åŒæ­¥æäº¤çš„ç¼ºç‚¹"><a href="#1-2-1-åŒæ­¥æäº¤çš„ç¼ºç‚¹" class="headerlink" title="1.2.1 åŒæ­¥æäº¤çš„ç¼ºç‚¹"></a>1.2.1 åŒæ­¥æäº¤çš„ç¼ºç‚¹</h3><p>â€‹	â‘ <form>è¡¨å•åŒæ­¥æäº¤åï¼Œæ•´ä¸ªé¡µé¢ä¼šå‘ç”Ÿè·³è½¬ï¼Œè·³è½¬åˆ° action URL æ‰€æŒ‡å‘çš„åœ°å€ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå·®ã€‚</p>
<p>â€‹	â‘¡<form>è¡¨å•åŒæ­¥æäº¤åï¼Œé¡µé¢ä¹‹å‰çš„çŠ¶æ€å’Œæ•°æ®ä¼šä¸¢å¤±ã€‚</p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šè¡¨å•åªè´Ÿè´£é‡‡é›†æ•°æ®ï¼ŒAjax è´Ÿè´£å°†æ•°æ®æäº¤åˆ°æœåŠ¡å™¨ã€‚</p>
</blockquote>
<h2 id="2-é€šè¿‡Ajaxæäº¤è¡¨å•æ•°æ®"><a href="#2-é€šè¿‡Ajaxæäº¤è¡¨å•æ•°æ®" class="headerlink" title="2.é€šè¿‡Ajaxæäº¤è¡¨å•æ•°æ®"></a>2.é€šè¿‡Ajaxæäº¤è¡¨å•æ•°æ®</h2><h3 id="2-1-ç›‘å¬è¡¨å•æäº¤äº‹ä»¶"><a href="#2-1-ç›‘å¬è¡¨å•æäº¤äº‹ä»¶" class="headerlink" title="2.1 ç›‘å¬è¡¨å•æäº¤äº‹ä»¶"></a>2.1 ç›‘å¬è¡¨å•æäº¤äº‹ä»¶</h3><p>â€‹	åœ¨jQueryä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼ï¼Œç›‘å¬åˆ°è¡¨å•çš„æäº¤äº‹ä»¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">submit</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="title function_">alert</span>(<span class="string">&#x27;ç›‘å¬åˆ°äº†è¡¨å•çš„æäº¤äº‹ä»¶&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="title function_">alert</span>(<span class="string">&#x27;ç›‘å¬åˆ°äº†è¡¨å•çš„æäº¤äº‹ä»¶&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-2-é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸º"><a href="#2-2-é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸º" class="headerlink" title="2.2 é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸º"></a>2.2 é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸º</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">submit</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="comment">// é˜»æ­¢è¡¨å•çš„æäº¤å’Œé¡µé¢çš„è·³è½¬</span></span><br><span class="line">   e.<span class="title function_">preventDefault</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="comment">// é˜»æ­¢è¡¨å•çš„æäº¤å’Œé¡µé¢çš„è·³è½¬</span></span><br><span class="line">   e.<span class="title function_">preventDefault</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-3-å¿«é€Ÿè·å–è¡¨å•ä¸­çš„æ•°æ®"><a href="#2-3-å¿«é€Ÿè·å–è¡¨å•ä¸­çš„æ•°æ®" class="headerlink" title="2.3 å¿«é€Ÿè·å–è¡¨å•ä¸­çš„æ•°æ®"></a>2.3 å¿«é€Ÿè·å–è¡¨å•ä¸­çš„æ•°æ®</h3><h4 id="2-3-1-serialize-å‡½æ•°"><a href="#2-3-1-serialize-å‡½æ•°" class="headerlink" title="2.3.1 serialize()å‡½æ•°"></a>2.3.1 serialize()å‡½æ•°</h4><p>â€‹	ä¸ºäº†ç®€åŒ–è¡¨å•ä¸­æ•°æ®çš„è·å–æ“ä½œï¼ŒjQueryæä¾›äº† serialize()å‡½æ•°ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>$(selector).serialize()</p>
</blockquote>
<p>serialize() å‡½æ•°çš„å¥½å¤„ï¼š<code>å¯ä»¥ä¸€æ¬¡æ€§è·å–åˆ°è¡¨å•ä¸­çš„æ‰€æœ‰çš„æ•°æ®</code>ã€‚</p>
<h4 id="2-3-2-ç¤ºèŒƒ"><a href="#2-3-2-ç¤ºèŒƒ" class="headerlink" title="2.3.2 ç¤ºèŒƒ"></a>2.3.2 ç¤ºèŒƒ</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=<span class="string">&quot;form1&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/form&gt;</span><br><span class="line">--------------------------------------------------------------------------</span><br><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">serialize</span>()</span><br><span class="line"><span class="comment">// è°ƒç”¨çš„ç»“æœï¼š</span></span><br><span class="line"><span class="comment">// username=ç”¨æˆ·åçš„å€¼&amp;password=å¯†ç çš„å€¼</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨ serialize() å‡½æ•°å¿«é€Ÿè·å–è¡¨å•æ•°æ®æ—¶ï¼Œ<code>å¿…é¡»ä¸ºæ¯ä¸ªè¡¨å•å…ƒç´ æ·»åŠ nameå±æ€§</code></p>
<h2 id="3-æ¡ˆä¾‹-è¯„è®ºåˆ—è¡¨"><a href="#3-æ¡ˆä¾‹-è¯„è®ºåˆ—è¡¨" class="headerlink" title="3.æ¡ˆä¾‹-è¯„è®ºåˆ—è¡¨"></a>3.æ¡ˆä¾‹-è¯„è®ºåˆ—è¡¨</h2><p>1.æ¸²æŸ“UIç»“æ„</p>
<p>2.è·å–è¯„è®ºåˆ—è¡¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getCmtList</span>(<span class="params"></span>) &#123;</span><br><span class="line">   $.<span class="title function_">get</span>(<span class="string">&#x27;http://www.liulongbin.top:3006/api/cmtlist&#x27;</span>, <span class="keyword">function</span> (<span class="params">res</span>) &#123;  </span><br><span class="line">     <span class="keyword">if</span>(res.<span class="property">status</span> !== <span class="number">200</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;è·å–è¯„è®ºåˆ—è¡¨å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> rows = []</span><br><span class="line">     $.<span class="title function_">each</span>(res.<span class="property">data</span>, <span class="keyword">function</span> (<span class="params">i, item</span>) &#123; <span class="comment">// å¾ªç¯æ‹¼æ¥å­—ç¬¦ä¸²</span></span><br><span class="line">       rows.<span class="title function_">push</span>(<span class="string">&#x27;&lt;li class=&quot;list-group-item&quot;&gt;&#x27;</span>+ item.<span class="property">content</span> +<span class="string">&#x27;&lt;span class=&quot;badge cmt-date&quot;&gt;è¯„è®ºæ—¶é—´ï¼š&#x27;</span>+ item.<span class="property">time</span> +<span class="string">&#x27;&lt;/span&gt;&lt;span class=&quot;badge cmt-person&quot;&gt;è¯„è®ºäººï¼š&#x27;</span>+ item.<span class="property">username</span> +<span class="string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>)</span><br><span class="line">     &#125;)</span><br><span class="line">     $(<span class="string">&#x27;#cmt-list&#x27;</span>).<span class="title function_">empty</span>().<span class="title function_">append</span>(rows.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)) <span class="comment">// æ¸²æŸ“åˆ—è¡¨çš„UIç»“æ„</span></span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>3.å‘è¡¨è¯„è®º</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#formAddCmt&#x27;</span>).<span class="title function_">submit</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   e.<span class="title function_">preventDefault</span>() <span class="comment">// é˜»æ­¢è¡¨å•çš„é»˜è®¤æäº¤è¡Œä¸º</span></span><br><span class="line">   <span class="comment">// å¿«é€Ÿå¾—åˆ°è¡¨å•ä¸­çš„æ•°æ®</span></span><br><span class="line">   <span class="keyword">var</span> data = $(<span class="variable language_">this</span>).<span class="title function_">serialize</span>()</span><br><span class="line">   $.<span class="title function_">post</span>(<span class="string">&#x27;http://www.liulongbin.top:3006/api/addcmt&#x27;</span>, data, <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">     <span class="keyword">if</span> (res.<span class="property">status</span> !== <span class="number">201</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;å‘è¡¨è¯„è®ºå¤±è´¥ï¼&#x27;</span>)</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">// åˆ·æ–°è¯„è®ºåˆ—è¡¨</span></span><br><span class="line">     <span class="title function_">getCmtList</span>()</span><br><span class="line">     <span class="comment">// å¿«é€Ÿæ¸…ç©ºè¡¨å•å†…å®¹</span></span><br><span class="line">     $(<span class="string">&#x27;#formAddCmt&#x27;</span>)[<span class="number">0</span>].<span class="title function_">reset</span>()</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<p>4.æ¨¡æ¿å¼•æ“çš„åŸºæœ¬æ¦‚å¿µ</p>
<p>â€‹	æ¨¡æ¿å¼•æ“ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒå¯ä»¥æ ¹æ®ç¨‹åºå‘˜æŒ‡å®šçš„æ¨¡æ¿ç»“æ„å’Œæ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„HTMLé¡µé¢ã€‚</p>
<p>5.art-templateæ¨¡æ¿å¼•æ“</p>
<p>5.1 art-templateçš„ä½¿ç”¨æ­¥éª¤<br>â‘ å¯¼å…¥ art-template<br>â‘¡å®šä¹‰æ•°æ®<br>â‘¢å®šä¹‰æ¨¡æ¿<br>â‘£è°ƒç”¨ templateå‡½æ•°<br>â‘¤æ¸²æŸ“HTMLç»“æ„<br>5.2 art-templateæ ‡å‡†è¯­æ³•</p>
<p>6.æ¨¡æ¿å¼•æ“çš„å®ç°åŸç†</p>
<p>6.1 æ­£åˆ™ä¸å­—ç¬¦ä¸²æ“ä½œ</p>
<p>6.1.1 exec() å‡½æ•°</p>
<p>ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚</p>
<p>å¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰åŒ¹é…çš„å€¼ï¼Œ<strong>åˆ™è¿”å›è¯¥åŒ¹é…å€¼</strong>ï¼Œå¦åˆ™è¿”å› <strong>null</strong></p>
<p>ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/o/</span></span><br><span class="line"><span class="comment">// è¾“å‡ºçš„ç»“æœ[&quot;o&quot;, index: 4, input: &quot;hello&quot;, groups: undefined]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern.<span class="title function_">exec</span>(str)) </span><br></pre></td></tr></table></figure>

<p>6.1.2 åˆ†ç»„</p>
<p>â€‹	æ­£åˆ™è¡¨è¾¾å¼ä¸­ ( ) åŒ…èµ·æ¥çš„å†…å®¹è¡¨ç¤ºä¸€ä¸ªåˆ†ç»„ï¼Œå¯ä»¥é€šè¿‡åˆ†ç»„æ¥   <code>æå–è‡ªå·±æƒ³è¦çš„å†…å®¹</code>ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&lt;div&gt;æˆ‘æ˜¯&#123;&#123;name&#125;&#125;&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;([a-zA-Z]+)&#125;&#125;/</span></span><br><span class="line"><span class="keyword">var</span> patternResult = pattern.<span class="title function_">exec</span>(str)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(patternResult)</span><br><span class="line"><span class="comment">// å¾—åˆ° name ç›¸å…³çš„åˆ†ç»„ä¿¡æ¯</span></span><br><span class="line"><span class="comment">// [&quot;&#123;&#123;name&#125;&#125;&quot;, &quot;name&quot;, index: 7, input: &quot;&lt;div&gt;æˆ‘æ˜¯&#123;&#123;name&#125;&#125;&lt;/div&gt;&quot;, groups: undefined]</span></span><br></pre></td></tr></table></figure>

<p>6.1.3 å­—ç¬¦ä¸²çš„replaceå‡½æ•°</p>
<p>â€‹	replace() å‡½æ•°ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­ç”¨ä¸€äº›å­—ç¬¦æ›¿æ¢å¦ä¸€äº›å­—ç¬¦ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="string">&#x27;123456&#x27;</span>.<span class="title function_">replace</span>(<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>) <span class="comment">// å¾—åˆ°çš„ result çš„å€¼ä¸ºå­—ç¬¦ä¸² &#x27;abc456&#x27;</span></span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&lt;div&gt;æˆ‘æ˜¯&#123;&#123;name&#125;&#125;&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;([a-zA-Z]+)&#125;&#125;/</span></span><br><span class="line"><span class="keyword">var</span> patternResult = pattern.<span class="title function_">exec</span>(str)</span><br><span class="line">str = str.<span class="title function_">replace</span>(patternResult[<span class="number">0</span>], patternResult[<span class="number">1</span>]) <span class="comment">// replace å‡½æ•°è¿”å›å€¼ä¸ºæ›¿æ¢åçš„æ–°å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// è¾“å‡ºçš„å†…å®¹æ˜¯ï¼š&lt;div&gt;æˆ‘æ˜¯name&lt;/div&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br></pre></td></tr></table></figure>

<p>6.1.4 ä½¿ç”¨whileå¾ªç¯replace</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&lt;div&gt;&#123;&#123;name&#125;&#125;ä»Šå¹´&#123;&#123; age &#125;&#125;å²äº†&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span></span><br><span class="line"><span class="keyword">var</span> patternResult = <span class="literal">null</span></span><br><span class="line"><span class="keyword">while</span>(patternResult = pattern.<span class="title function_">exec</span>(str)) &#123;</span><br><span class="line">   str = str.<span class="title function_">replace</span>(patternResult[<span class="number">0</span>], patternResult[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str) <span class="comment">// è¾“å‡º &lt;div&gt;nameä»Šå¹´ageå²äº†&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<p>6.1.5 replaceæ›¿æ¢ä¸ºçœŸå€¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&lt;div&gt;&#123;&#123;name&#125;&#125;ä»Šå¹´&#123;&#123; age &#125;&#125;å²äº†&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span></span><br><span class="line"><span class="keyword">var</span> patternResult = <span class="literal">null</span></span><br><span class="line"><span class="keyword">while</span> ((patternResult = pattern.<span class="title function_">exec</span>(str))) &#123;</span><br><span class="line">   str = str.<span class="title function_">replace</span>(patternResult[<span class="number">0</span>], data[patternResult[<span class="number">1</span>]])</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br></pre></td></tr></table></figure>

<p>6.2 å®ç°ç®€æ˜“çš„æ¨¡æ¿å¼•æ“</p>
<p>6.2.1 å®ç°æ­¥éª¤</p>
<p>â€‹	â‘ å®šä¹‰æ¨¡æ¿ç»“æ„<br>    â‘¡é¢„è°ƒç”¨æ¨¡æ¿å¼•æ“<br>    â‘¢å°è£… templateå‡½æ•°<br>    â‘£å¯¼å…¥å¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„æ¨¡æ¿å¼•æ“</p>
<p>6.2.2 å®šä¹‰æ¨¡æ¿ç»“æ„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--Â å®šä¹‰æ¨¡æ¿ç»“æ„Â --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>Â <span class="attr">type</span>=<span class="string">&quot;text/html&quot;</span>Â <span class="attr">id</span>=<span class="string">&quot;tpl-user&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>å§“åï¼š</span><span class="template-variable">&#123;&#123;<span class="name">name</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>å¹´é¾„ï¼š</span><span class="template-variable">&#123;&#123;Â <span class="name">age</span>Â &#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>æ€§åˆ«ï¼š</span><span class="template-variable">&#123;&#123;Â Â <span class="name">gender</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>ä½å€ï¼š</span><span class="template-variable">&#123;&#123;<span class="name">address</span>Â Â &#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>6.2.3 é¢„è°ƒç”¨æ¨¡æ¿å¼•æ“</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="comment">//Â å®šä¹‰æ•°æ®</span></span><br><span class="line">   <span class="keyword">var</span>Â dataÂ =Â &#123;Â <span class="attr">name</span>:Â <span class="string">&#x27;zs&#x27;</span>,Â <span class="attr">age</span>:Â <span class="number">28</span>,Â <span class="attr">gender</span>:Â <span class="string">&#x27;ç”·&#x27;</span>,Â <span class="attr">address</span>:Â <span class="string">&#x27;åŒ—äº¬é¡ºä¹‰é©¬å¡&#x27;</span>Â &#125;</span><br><span class="line">  <span class="comment">//Â è°ƒç”¨æ¨¡æ¿å‡½æ•°</span></span><br><span class="line">   <span class="keyword">var</span>Â htmlStrÂ =Â <span class="title function_">template</span>(<span class="string">&#x27;tpl-user&#x27;</span>,Â data)</span><br><span class="line"> <span class="comment">//Â æ¸²æŸ“HTMLç»“æ„</span></span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;user-box&#x27;</span>).<span class="property">innerHTML</span>Â =Â htmlStr</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>6.2.4 å°è£…templateå‡½æ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>6.2.5 å¯¼å…¥å¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„æ¨¡æ¿å¼•æ“</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">meta</span>Â <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>Â /&gt;</span></span></span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">meta</span>Â <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span>Â <span class="attr">content</span>=<span class="string">&quot;width=device-width,Â initial-scale=1.0&quot;</span>Â /&gt;</span></span></span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">meta</span>Â <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span>Â <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>Â /&gt;</span></span></span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>è‡ªå®šä¹‰æ¨¡æ¿å¼•æ“<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line">Â Â Â Â &lt;!--Â å¯¼å…¥è‡ªå®šä¹‰çš„æ¨¡æ¿å¼•æ“Â --&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>Â <span class="attr">src</span>=<span class="string">&quot;./js/template.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>



<h1 id="Ajaxç¬¬ä¸‰å¤©"><a href="#Ajaxç¬¬ä¸‰å¤©" class="headerlink" title="Ajaxç¬¬ä¸‰å¤©"></a>Ajaxç¬¬ä¸‰å¤©</h1><hr>
<h2 id="1-XMLHttpRequestçš„åŸºæœ¬ä½¿ç”¨"><a href="#1-XMLHttpRequestçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.XMLHttpRequestçš„åŸºæœ¬ä½¿ç”¨"></a>1.XMLHttpRequestçš„åŸºæœ¬ä½¿ç”¨</h2><p>â€‹	å®šä¹‰ï¼šXMLHttpRequestï¼ˆç®€ç§°xhrï¼‰æ˜¯æµè§ˆå™¨æä¾›çš„Javascriptå¯¹è±¡ï¼Œé€šè¿‡å®ƒï¼Œå¯ä»¥    <code>è¯·æ±‚æœåŠ¡å™¨ä¸Šçš„æ•°æ®èµ„æº</code>ã€‚ä¹‹å‰æ‰€å­¦çš„ jQueryä¸­çš„Ajaxå‡½æ•°ï¼Œå°±æ˜¯åŸºäºxhrå¯¹è±¡å°è£…å‡ºæ¥çš„ã€‚</p>
<h3 id="1-1-ä½¿ç”¨xhrå‘èµ·GETè¯·æ±‚æ­¥éª¤"><a href="#1-1-ä½¿ç”¨xhrå‘èµ·GETè¯·æ±‚æ­¥éª¤" class="headerlink" title="1.1 ä½¿ç”¨xhrå‘èµ·GETè¯·æ±‚æ­¥éª¤"></a>1.1 ä½¿ç”¨xhrå‘èµ·GETè¯·æ±‚æ­¥éª¤</h3><p>(1)åˆ›å»º xhr å¯¹è±¡<br>(2)è°ƒç”¨ xhr.open() å‡½æ•°<br>(3)è°ƒç”¨ xhr.send() å‡½æ•°<br>(4)ç›‘å¬ xhr.onreadystatechange äº‹ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â 1.Â åˆ›å»ºÂ XHRÂ å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span>Â xhrÂ =Â <span class="keyword">new</span>Â <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">//Â 2.Â è°ƒç”¨Â openÂ å‡½æ•°ï¼ŒæŒ‡å®šÂ è¯·æ±‚æ–¹å¼Â ä¸Â URLåœ°å€</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>,Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>)</span><br><span class="line"><span class="comment">//Â 3.Â è°ƒç”¨Â sendÂ å‡½æ•°ï¼Œå‘èµ·Â AjaxÂ è¯·æ±‚</span></span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br><span class="line"><span class="comment">//Â 4.Â ç›‘å¬Â onreadystatechangeÂ äº‹ä»¶</span></span><br><span class="line">xhr.<span class="property">onreadystatechange</span>Â =Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">    <span class="comment">//Â 4.1Â ç›‘å¬Â xhrÂ å¯¹è±¡çš„è¯·æ±‚çŠ¶æ€Â readyStateÂ ï¼›ä¸æœåŠ¡å™¨å“åº”çš„çŠ¶æ€ status</span></span><br><span class="line">    <span class="keyword">if</span>Â (xhr.<span class="property">readyState</span>Â ===Â <span class="number">4</span>Â &amp;&amp;Â xhr.<span class="property">status</span>Â ===Â <span class="number">200</span>)Â &#123;</span><br><span class="line">        <span class="comment">//Â 4.2Â æ‰“å°æœåŠ¡å™¨å“åº”å›æ¥çš„æ•°æ®</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-äº†è§£xhrå¯¹è±¡çš„readyStateå±æ€§"><a href="#1-2-äº†è§£xhrå¯¹è±¡çš„readyStateå±æ€§" class="headerlink" title="1.2 äº†è§£xhrå¯¹è±¡çš„readyStateå±æ€§"></a>1.2 äº†è§£xhrå¯¹è±¡çš„readyStateå±æ€§</h3><p>â€‹	XMLHttpRequestå¯¹è±¡çš„readyStateå±æ€§ï¼Œç”¨æ¥è¡¨ç¤ºå½“å‰ Ajax è¯·æ±‚æ‰€å¤„çš„çŠ¶æ€ã€‚æ¯ä¸ª Ajaxè¯·æ±‚å¿…ç„¶å¤„äºä»¥ä¸‹çŠ¶æ€ä¸­çš„ä¸€ä¸ªï¼š</p>
<table>
<thead>
<tr>
<th align="center">å€¼</th>
<th align="center">çŠ¶æ€</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">UNSENT</td>
<td align="center">XMLHttpRequest å¯¹è±¡å·²è¢«åˆ›å»ºï¼Œä½†æœªè°ƒç”¨  openæ–¹æ³•ã€‚</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">OPENED</td>
<td align="center">open() æ–¹æ³•å·²ç»è¢«è°ƒç”¨ã€‚</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">HEADERS_RECEIVED</td>
<td align="center">send() æ–¹æ³•å·²ç»è¢«è°ƒç”¨ï¼Œå“åº”å¤´ä¹Ÿå·²ç»è¢«æ¥æ”¶ã€‚</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">LOADING</td>
<td align="center">æ•°æ®æ¥æ”¶ä¸­ï¼Œæ­¤æ—¶  response  å±æ€§ä¸­å·²ç»åŒ…å«éƒ¨åˆ†æ•°æ®ã€‚</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DONE</td>
<td align="center">Ajax  è¯·æ±‚å®Œæˆï¼Œè¿™æ„å‘³ç€æ•°æ®ä¼ è¾“å·²ç»å½»åº•å®Œæˆæˆ–å¤±è´¥ã€‚</td>
</tr>
</tbody></table>
<h3 id="1-3-ä½¿ç”¨-xhr-å‘èµ·å¸¦å‚æ•°çš„-GET-è¯·æ±‚"><a href="#1-3-ä½¿ç”¨-xhr-å‘èµ·å¸¦å‚æ•°çš„-GET-è¯·æ±‚" class="headerlink" title="1.3 ä½¿ç”¨ xhr å‘èµ·å¸¦å‚æ•°çš„ GET è¯·æ±‚"></a>1.3 ä½¿ç”¨ xhr å‘èµ·å¸¦å‚æ•°çš„ GET è¯·æ±‚</h3><p>xhr.open(â€˜GETâ€™, â€˜<a target="_blank" rel="noopener" href="http://www.liulongbin.top:3006/api/getbooks">http://www.liulongbin.top:3006/api/getbooks</a>   <code>?id=1</code>â€˜)</p>
<p>è¿™ç§åœ¨ URL åœ°å€åé¢æ‹¼æ¥çš„å‚æ•°ï¼Œå«åš   <code>æŸ¥è¯¢å­—ç¬¦ä¸²</code>ã€‚</p>
<h3 id="1-4-æŸ¥è¯¢å­—ç¬¦ä¸²"><a href="#1-4-æŸ¥è¯¢å­—ç¬¦ä¸²" class="headerlink" title="1.4 æŸ¥è¯¢å­—ç¬¦ä¸²"></a>1.4 æŸ¥è¯¢å­—ç¬¦ä¸²</h3><p>â€‹	å®šä¹‰ï¼šæŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆURLå‚æ•°ï¼‰æ˜¯æŒ‡åœ¨URLçš„æœ«å°¾åŠ ä¸Šç”¨äºå‘æœåŠ¡å™¨å‘é€ä¿¡æ¯çš„å­—ç¬¦ä¸²ï¼ˆå˜é‡ï¼‰ã€‚</p>
<p>â€‹	æ ¼å¼ï¼šå°†è‹±æ–‡çš„        <code>?</code>  æ”¾åœ¨URLçš„æœ«å°¾ï¼Œç„¶åå†åŠ ä¸Š<code>å‚æ•°ï¼å€¼</code>ï¼Œæƒ³åŠ ä¸Šå¤šä¸ªå‚æ•°çš„è¯ï¼Œä½¿ç”¨ <code>&amp;</code>ç¬¦å·è¿›è¡Œåˆ†éš”ã€‚ä»¥è¿™ä¸ªå½¢å¼ï¼Œå¯ä»¥å°†æƒ³è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®æ·»åŠ åˆ°URLä¸­ã€‚</p>
<blockquote>
<p>&#x2F;&#x2F; ä¸å¸¦å‚æ•°çš„URLåœ°å€<br><a target="_blank" rel="noopener" href="http://www.liulongbin.top:3006/api/getbooks">http://www.liulongbin.top:3006/api/getbooks</a><br>&#x2F;&#x2F; å¸¦ä¸€ä¸ªå‚æ•°çš„URLåœ°å€<br><a target="_blank" rel="noopener" href="http://www.liulongbin.top:3006/api/getbooks?id=1">http://www.liulongbin.top:3006/api/getbooks?id=1</a><br>&#x2F;&#x2F; å¸¦ä¸¤ä¸ªå‚æ•°çš„URLåœ°å€<br><a target="_blank" rel="noopener" href="http://www.liulongbin.top:3006/api/getbooks?id=1&amp;bookname=%E8%A5%BF%E6%B8%B8%E8%AE%B0">http://www.liulongbin.top:3006/api/getbooks?id=1&amp;bookname=è¥¿æ¸¸è®°</a></p>
</blockquote>
<h3 id="1-5-URLç¼–ç ä¸è§£ç "><a href="#1-5-URLç¼–ç ä¸è§£ç " class="headerlink" title="1.5 URLç¼–ç ä¸è§£ç "></a>1.5 URLç¼–ç ä¸è§£ç </h3><p>â€‹	URLç¼–ç åŸåˆ™çš„é€šä¿—ç†è§£ï¼šä½¿ç”¨è‹±æ–‡å­—ç¬¦å»è¡¨ç¤ºéè‹±æ–‡å­—ç¬¦ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¼–ç çš„å‡½æ•°</span></span><br><span class="line"><span class="built_in">encodeURI</span>(<span class="string">&#x27;å†…å®¹&#x27;</span>)</span><br><span class="line"><span class="comment">// è§£ç çš„å‡½æ•°</span></span><br><span class="line"><span class="built_in">decodeURI</span>(<span class="string">&#x27;å†…å®¹&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="1-6-ä½¿ç”¨-xhr-å‘èµ·-POST-è¯·æ±‚"><a href="#1-6-ä½¿ç”¨-xhr-å‘èµ·-POST-è¯·æ±‚" class="headerlink" title="1.6 ä½¿ç”¨ xhr å‘èµ· POST è¯·æ±‚"></a>1.6 ä½¿ç”¨ xhr å‘èµ· POST è¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. åˆ›å»º xhr å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span>Â xhrÂ =Â <span class="keyword">new</span>Â <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">// 2. è°ƒç”¨ open()</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>,Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/addbook&#x27;</span>)</span><br><span class="line"><span class="comment">//Â 3. è®¾ç½®Â Content-TypeÂ å±æ€§ï¼ˆå›ºå®šå†™æ³•ï¼‰</span></span><br><span class="line">xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>,Â <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line"><span class="comment">//Â 4. è°ƒç”¨Â send()ï¼ŒåŒæ—¶å°†æ•°æ®ä»¥æŸ¥è¯¢å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œæäº¤ç»™æœåŠ¡å™¨</span></span><br><span class="line">xhr.<span class="title function_">send</span>(<span class="string">&#x27;bookname=æ°´æµ’ä¼ &amp;author=æ–½è€åºµ&amp;publisher=å¤©æ´¥å›¾ä¹¦å‡ºç‰ˆç¤¾&#x27;</span>)</span><br><span class="line"><span class="comment">// 5. ç›‘å¬ onreadystatechange äº‹ä»¶</span></span><br><span class="line">xhr.<span class="property">onreadystatechange</span>Â =Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">    <span class="keyword">if</span>Â (xhr.<span class="property">readyState</span>Â ===Â <span class="number">4</span>Â &amp;&amp;Â xhr.<span class="property">status</span>Â ===Â <span class="number">200</span>)Â &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ•°æ®äº¤æ¢æ ¼å¼"><a href="#2-æ•°æ®äº¤æ¢æ ¼å¼" class="headerlink" title="2.æ•°æ®äº¤æ¢æ ¼å¼"></a>2.æ•°æ®äº¤æ¢æ ¼å¼</h2><p>â€‹	æ•°æ®äº¤æ¢æ ¼å¼ï¼Œå°±æ˜¯æœåŠ¡å™¨ç«¯ä¸å®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ è¾“ä¸äº¤æ¢çš„æ ¼å¼ã€‚</p>
<p>â€‹	å‰ç«¯é¢†åŸŸï¼Œç»å¸¸æåŠçš„ä¸¤ç§æ•°æ®äº¤æ¢æ ¼å¼åˆ†åˆ«æ˜¯<strong>XMLå’ŒJSON</strong>ã€‚å…¶ä¸­XMLç”¨çš„éå¸¸å°‘ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬é‡ç‚¹è¦å­¦ä¹ çš„æ•°æ®äº¤æ¢æ ¼å¼å°±æ˜¯<strong>JSON</strong>ã€‚	</p>
<h3 id="2-1-XML"><a href="#2-1-XML" class="headerlink" title="2.1 XML"></a>2.1 XML</h3><p>(1)å®šä¹‰ï¼šXMLçš„è‹±æ–‡å…¨ç§°æ˜¯EXtensibleMarkupLanguageï¼Œå³å¯æ‰©å±•æ ‡è®°è¯­è¨€ã€‚å› æ­¤ï¼ŒXMLå’ŒHTMLç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ã€‚</p>
<p>(2)XMLå’ŒHTMLçš„åŒºåˆ«</p>
<p>XMLå’ŒHTMLè™½ç„¶éƒ½æ˜¯æ ‡è®°è¯­è¨€ï¼Œä½†æ˜¯ï¼Œå®ƒä»¬ä¸¤è€…ä¹‹é—´æ²¡æœ‰ä»»ä½•çš„å…³ç³»ã€‚</p>
<p>â€‹	HTML è¢«è®¾è®¡ç”¨æ¥æè¿°ç½‘é¡µä¸Šçš„å†…å®¹ï¼Œæ˜¯ç½‘é¡µå†…å®¹çš„è½½ä½“<br>    XML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œæ˜¯æ•°æ®çš„è½½ä½“</p>
<p>(3) XMLçš„ç¼ºç‚¹ï¼š</p>
<p>â€‹		â‘ XML æ ¼å¼è‡ƒè‚¿ï¼Œå’Œæ•°æ®æ— å…³çš„ä»£ç å¤šï¼Œä½“ç§¯å¤§ï¼Œä¼ è¾“æ•ˆç‡ä½<br>        â‘¡åœ¨ Javascriptä¸­è§£æXMLæ¯”è¾ƒéº»çƒ¦</p>
<h3 id="2-2-JSON"><a href="#2-2-JSON" class="headerlink" title="2.2 JSON"></a>2.2 JSON</h3><p>(1)å®šä¹‰ï¼šJSONçš„è‹±æ–‡å…¨ç§°æ˜¯JavaScriptObjectNotationï¼Œå³â€œJavaScriptå¯¹è±¡è¡¨ç¤ºæ³•â€ã€‚ç®€å•æ¥è®²ï¼Œ<code>JSON å°±æ˜¯ Javascript å¯¹è±¡å’Œæ•°ç»„çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•</code>ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ªJSå¯¹è±¡æˆ–æ•°ç»„çš„ä¿¡æ¯ï¼Œå› æ­¤ï¼Œ<code>JSON çš„æœ¬è´¨æ˜¯å­—ç¬¦ä¸²</code>ã€‚</p>
<p>(2)ä½œç”¨ï¼š<code>JSONæ˜¯ä¸€ç§è½»é‡çº§çš„æ–‡æœ¬æ•°æ®äº¤æ¢æ ¼å¼</code>ï¼Œåœ¨ä½œç”¨ä¸Šç±»ä¼¼äº XMLï¼Œä¸“é—¨ç”¨äºå­˜å‚¨å’Œä¼ è¾“æ•°æ®ï¼Œä½†æ˜¯JSONæ¯”XMLæ›´å°ã€æ›´å¿«ã€æ›´æ˜“è§£æã€‚</p>
<p>(3)ä¸¤ç§ç»“æ„:JSONå°±æ˜¯ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºJavascriptçš„<code>å¯¹è±¡</code>å’Œ<code>æ•°ç»„</code>ã€‚æ‰€ä»¥ï¼ŒJSONä¸­åŒ…å«å¯¹è±¡å’Œæ•°ç»„ä¸¤ç§ç»“æ„ï¼Œé€šè¿‡è¿™ä¸¤ç§ç»“æ„çš„ç›¸äº’åµŒå¥—ï¼Œå¯ä»¥è¡¨ç¤ºå„ç§å¤æ‚çš„æ•°æ®ç»“æ„ã€‚</p>
<p>â€‹	â‘ <strong>å¯¹è±¡ç»“æ„</strong>ï¼šå¯¹è±¡ç»“æ„åœ¨JSONä¸­è¡¨ç¤ºä¸º{} æ‹¬èµ·æ¥çš„å†…å®¹ã€‚æ•°æ®ç»“æ„ä¸º{key: value, key: value, â€¦ } çš„é”®å€¼å¯¹ç»“æ„ã€‚å…¶ä¸­ï¼Œkeyå¿…é¡»æ˜¯ä½¿ç”¨<code>è‹±æ–‡çš„åŒå¼•å·åŒ…è£¹</code>çš„å­—ç¬¦ä¸²ï¼Œvalueçš„æ•°æ®ç±»å‹å¯ä»¥æ˜¯<code>æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€nullã€æ•°ç»„ã€å¯¹è±¡</code>6ç§ç±»å‹ã€‚</p>
<p>â€‹	â‘¡<strong>æ•°ç»„ç»“æ„</strong>ï¼šæ•°ç»„ç»“æ„åœ¨JSONä¸­è¡¨ç¤ºä¸º[] æ‹¬èµ·æ¥çš„å†…å®¹ã€‚æ•°æ®ç»“æ„ä¸º[â€œjavaâ€,â€javascriptâ€,30, true â€¦ ]ã€‚æ•°ç»„ä¸­æ•°æ®çš„ç±»å‹å¯ä»¥æ˜¯  <code>æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€nullã€æ•°ç»„ã€å¯¹è±¡</code>  6ç§ç±»å‹ã€‚</p>
<p>(4)JSONè¯­æ³•æ³¨æ„äº‹é¡¹</p>
<p>â‘ å±æ€§åå¿…é¡»ä½¿ç”¨åŒå¼•å·åŒ…è£¹<br>â‘¡å­—ç¬¦ä¸²ç±»å‹çš„å€¼å¿…é¡»ä½¿ç”¨åŒå¼•å·åŒ…è£¹<br>â‘¢JSON ä¸­ä¸å…è®¸ä½¿ç”¨å•å¼•å·è¡¨ç¤ºå­—ç¬¦ä¸²<br>â‘£JSON ä¸­ä¸èƒ½å†™æ³¨é‡Š<br>â‘¤JSON çš„æœ€å¤–å±‚å¿…é¡»æ˜¯å¯¹è±¡æˆ–æ•°ç»„æ ¼å¼<br>â‘¥ä¸èƒ½ä½¿ç”¨ undefinedæˆ–å‡½æ•°ä½œä¸ºJSONçš„å€¼<br><strong>JSON çš„ä½œç”¨</strong>ï¼šåœ¨è®¡ç®—æœºä¸ç½‘ç»œä¹‹é—´å­˜å‚¨å’Œä¼ è¾“æ•°æ®ã€‚<br><strong>JSON çš„æœ¬è´¨</strong>ï¼šç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºJavascriptå¯¹è±¡æ•°æ®æˆ–æ•°ç»„æ•°æ®</p>
<p>(5)JSONå’ŒJSå¯¹è±¡çš„å…³ç³»</p>
<p>JSON æ˜¯ JS å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ªJS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<p>(6)JSONå’ŒJSå¯¹è±¡çš„äº’è½¬</p>
<p>â€‹	è¦å®ç°ä»   <strong>JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º JS å¯¹è±¡</strong>ï¼Œä½¿ç”¨ <code>JSON.parse() </code>æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>)</span><br><span class="line"><span class="comment">//ç»“æœæ˜¯ &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>â€‹	è¦å®ç°ä»   <strong>JS å¯¹è±¡è½¬æ¢ä¸ºJSON å­—ç¬¦ä¸²</strong>ï¼Œä½¿ç”¨<code>JSON.stringify()</code> æ–¹æ³•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">a</span>: <span class="string">&#x27;Hello&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;World&#x27;</span>&#125;)</span><br><span class="line"><span class="comment">//ç»“æœæ˜¯ &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>(7)åºåˆ—åŒ–å’Œååºåˆ—åŒ–</p>
<p>æŠŠæ•°æ®å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼Œå«åšåºåˆ—åŒ–ï¼Œä¾‹å¦‚ï¼šè°ƒç”¨ JSON.stringify() å‡½æ•°çš„æ“ä½œï¼Œå«åš JSON åºåˆ—åŒ–ã€‚</p>
<p>æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°æ®å¯¹è±¡çš„è¿‡ç¨‹ï¼Œå«åšååºåˆ—åŒ–ï¼Œä¾‹å¦‚ï¼šè°ƒç”¨JSON.parse()å‡½æ•°çš„æ“ä½œï¼Œå«åš JSON ååºåˆ—åŒ–ã€‚</p>
<h2 id="3-å°è£…è‡ªå·±çš„Ajaxå‡½æ•°"><a href="#3-å°è£…è‡ªå·±çš„Ajaxå‡½æ•°" class="headerlink" title="3.å°è£…è‡ªå·±çš„Ajaxå‡½æ•°"></a>3.å°è£…è‡ªå·±çš„Ajaxå‡½æ•°</h2><h3 id="3-1-è¦å®ç°çš„æ•ˆæœ"><a href="#3-1-è¦å®ç°çš„æ•ˆæœ" class="headerlink" title="3.1 è¦å®ç°çš„æ•ˆæœ"></a>3.1 è¦å®ç°çš„æ•ˆæœ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span> å¯¼å…¥è‡ªå®šä¹‰çš„ajaxå‡½æ•°åº“ --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./itheima.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 2. è°ƒç”¨è‡ªå®šä¹‰çš„ itheima å‡½æ•°ï¼Œå‘èµ· Ajax æ•°æ®è¯·æ±‚</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">itheima</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">method</span>: <span class="string">&#x27;è¯·æ±‚ç±»å‹&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">url</span>: <span class="string">&#x27;è¯·æ±‚åœ°å€&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123; <span class="comment">/* è¯·æ±‚å‚æ•°å¯¹è±¡ */</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123; <span class="comment">// æˆåŠŸçš„å›è°ƒå‡½æ•°</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)     <span class="comment">// æ‰“å°æ•°æ®</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-å®šä¹‰optionså‚æ•°é€‰é¡¹"><a href="#3-2-å®šä¹‰optionså‚æ•°é€‰é¡¹" class="headerlink" title="3.2 å®šä¹‰optionså‚æ•°é€‰é¡¹"></a>3.2 å®šä¹‰optionså‚æ•°é€‰é¡¹</h3><p>itheima()å‡½æ•°æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„Ajaxå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªé…ç½®å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œé…ç½®å¯¹è±¡ä¸­å¯ä»¥é…ç½®å¦‚ä¸‹å±æ€§ï¼š</p>
<p>method   è¯·æ±‚çš„ç±»å‹<br>url           è¯·æ±‚çš„URLåœ°å€<br>data        è¯·æ±‚æºå¸¦çš„æ•°æ®<br>success   è¯·æ±‚æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°</p>
<h3 id="3-3-å¤„ç†dataå‚æ•°"><a href="#3-3-å¤„ç†dataå‚æ•°" class="headerlink" title="3.3 å¤„ç†dataå‚æ•°"></a>3.3 å¤„ç†dataå‚æ•°</h3><p>éœ€è¦æŠŠdataå¯¹è±¡ï¼Œè½¬åŒ–æˆæŸ¥è¯¢å­—ç¬¦ä¸²çš„æ ¼å¼ï¼Œä»è€Œæäº¤ç»™æœåŠ¡å™¨ï¼Œå› æ­¤æå‰å®šä¹‰resolveDataå‡½æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Â *Â å¤„ç†Â dataÂ å‚æ•°</span></span><br><span class="line"><span class="comment">Â *Â <span class="doctag">@param</span>Â &#123;<span class="type">data</span>&#125;Â éœ€è¦å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®</span></span><br><span class="line"><span class="comment">Â *Â <span class="doctag">@returns</span>Â &#123;<span class="type">string</span>&#125;Â è¿”å›æ‹¼æ¥å¥½çš„æŸ¥è¯¢å­—ç¬¦ä¸²Â name=zs&amp;age=10</span></span><br><span class="line"><span class="comment">Â */</span></span><br><span class="line"><span class="keyword">function</span>Â <span class="title function_">resolveData</span>(<span class="params">data</span>)Â &#123;</span><br><span class="line">Â Â <span class="keyword">var</span>Â arrÂ =Â []</span><br><span class="line">Â Â <span class="keyword">for</span>Â (<span class="keyword">var</span>Â kÂ <span class="keyword">in</span>Â data)Â &#123;</span><br><span class="line">Â Â Â Â arr.<span class="title function_">push</span>(k + <span class="string">&#x27;=&#x27;</span> + data[k])</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">return</span>Â arr.<span class="title function_">join</span>(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-å®šä¹‰itheimaå‡½æ•°"><a href="#3-4-å®šä¹‰itheimaå‡½æ•°" class="headerlink" title="3.4 å®šä¹‰itheimaå‡½æ•°"></a>3.4 å®šä¹‰itheimaå‡½æ•°</h3><p>åœ¨itheima()å‡½æ•°ä¸­ï¼Œéœ€è¦åˆ›å»ºxhrå¯¹è±¡ï¼Œå¹¶ç›‘å¬onreadystatechangeäº‹ä»¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>Â <span class="title function_">itheima</span>(<span class="params">options</span>)Â &#123;</span><br><span class="line">Â Â <span class="keyword">var</span>Â xhrÂ =Â <span class="keyword">new</span>Â <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">Â Â <span class="comment">//Â æ‹¼æ¥æŸ¥è¯¢å­—ç¬¦ä¸²</span></span><br><span class="line">Â Â <span class="keyword">var</span>Â qsÂ =Â <span class="title function_">resolveData</span>(options.<span class="property">data</span>)</span><br><span class="line">Â Â <span class="comment">//Â ç›‘å¬è¯·æ±‚çŠ¶æ€æ”¹å˜çš„äº‹ä»¶</span></span><br><span class="line">Â Â xhr.<span class="property">onreadystatechange</span>Â =Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">Â Â Â Â <span class="keyword">if</span>Â (xhr.<span class="property">readyState</span>Â ===Â <span class="number">4</span>Â &amp;&amp;Â xhr.<span class="property">status</span>Â ===Â <span class="number">200</span>)Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">var</span>Â resultÂ =Â <span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">Â Â Â Â Â Â options.<span class="title function_">success</span>(result)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-5-åˆ¤æ–­è¯·æ±‚çš„ç±»å‹"><a href="#3-5-åˆ¤æ–­è¯·æ±‚çš„ç±»å‹" class="headerlink" title="3.5 åˆ¤æ–­è¯·æ±‚çš„ç±»å‹"></a>3.5 åˆ¤æ–­è¯·æ±‚çš„ç±»å‹</h3><p>ä¸åŒçš„è¯·æ±‚ç±»å‹ï¼Œå¯¹åº”xhrå¯¹è±¡çš„ä¸åŒæ“ä½œï¼Œå› æ­¤éœ€è¦å¯¹è¯·æ±‚ç±»å‹è¿›è¡Œifâ€¦ else â€¦ çš„åˆ¤æ–­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="keyword">if</span>Â (options.<span class="property">method</span>.<span class="title function_">toUpperCase</span>()Â ===Â <span class="string">&#x27;GET&#x27;</span>)Â &#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â å‘èµ·Â GETÂ è¯·æ±‚</span></span><br><span class="line">Â Â Â Â xhr.<span class="title function_">open</span>(options.<span class="property">method</span>,Â options.<span class="property">url</span>Â +Â <span class="string">&#x27;?&#x27;</span>Â +Â qs)</span><br><span class="line">Â Â Â Â xhr.<span class="title function_">send</span>()</span><br><span class="line">Â Â &#125;Â <span class="keyword">else</span>Â <span class="keyword">if</span>Â (options.<span class="property">method</span>.<span class="title function_">toUpperCase</span>()Â ===Â <span class="string">&#x27;POST&#x27;</span>)Â &#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â å‘èµ·Â POSTÂ è¯·æ±‚</span></span><br><span class="line">Â Â Â Â xhr.<span class="title function_">open</span>(options.<span class="property">method</span>,Â options.<span class="property">url</span>)</span><br><span class="line">Â Â Â Â xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>,Â <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line">Â Â Â Â xhr.<span class="title function_">send</span>(qs)</span><br><span class="line">Â Â &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-XMLHttpRequest-Level2çš„æ–°ç‰¹æ€§"><a href="#4-XMLHttpRequest-Level2çš„æ–°ç‰¹æ€§" class="headerlink" title="4.XMLHttpRequest Level2çš„æ–°ç‰¹æ€§"></a>4.XMLHttpRequest Level2çš„æ–°ç‰¹æ€§</h2><h3 id="4-1-è®¤è¯†XMLHttpRequestLevel2"><a href="#4-1-è®¤è¯†XMLHttpRequestLevel2" class="headerlink" title="4.1 è®¤è¯†XMLHttpRequestLevel2"></a>4.1 è®¤è¯†XMLHttpRequestLevel2</h3><p>(1)æ—§ç‰ˆXMLHttpRequestçš„ç¼ºç‚¹</p>
<p>â‘ åªæ”¯æŒæ–‡æœ¬æ•°æ®çš„ä¼ è¾“ï¼Œæ— æ³•ç”¨æ¥è¯»å–å’Œä¸Šä¼ æ–‡ä»¶<br>â‘¡ä¼ é€å’Œæ¥æ”¶æ•°æ®æ—¶ï¼Œæ²¡æœ‰è¿›åº¦ä¿¡æ¯ï¼Œåªèƒ½æç¤ºæœ‰æ²¡æœ‰å®Œæˆ</p>
<p>(2)XMLHttpRequest Level2çš„æ–°åŠŸèƒ½</p>
<p>â‘ å¯ä»¥è®¾ç½® HTTP è¯·æ±‚çš„æ—¶é™<br>â‘¡å¯ä»¥ä½¿ç”¨ FormDataå¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®<br>â‘¢å¯ä»¥ä¸Šä¼ æ–‡ä»¶<br>â‘£å¯ä»¥è·å¾—æ•°æ®ä¼ è¾“çš„è¿›åº¦ä¿¡æ¯</p>
<h3 id="4-2-è®¾ç½®HTTPè¯·æ±‚æ—¶é™"><a href="#4-2-è®¾ç½®HTTPè¯·æ±‚æ—¶é™" class="headerlink" title="4.2 è®¾ç½®HTTPè¯·æ±‚æ—¶é™"></a>4.2 è®¾ç½®HTTPè¯·æ±‚æ—¶é™</h3><p>æœ‰æ—¶ï¼ŒAjaxæ“ä½œå¾ˆè€—æ—¶ï¼Œè€Œä¸”æ— æ³•é¢„çŸ¥è¦èŠ±å¤šå°‘æ—¶é—´ã€‚å¦‚æœç½‘é€Ÿå¾ˆæ…¢ï¼Œç”¨æˆ·å¯èƒ½è¦ç­‰å¾ˆä¹…ã€‚æ–°ç‰ˆæœ¬çš„XMLHttpRequestå¯¹è±¡ï¼Œå¢åŠ äº†timeoutå±æ€§ï¼Œå¯ä»¥è®¾ç½®HTTPè¯·æ±‚çš„æ—¶é™ï¼š</p>
<p><code>xhr.timeout = 3000</code></p>
<p>ä¸Šé¢çš„è¯­å¥ï¼Œå°†æœ€é•¿ç­‰å¾…æ—¶é—´è®¾ä¸º 3000 æ¯«ç§’ã€‚è¿‡äº†è¿™ä¸ªæ—¶é™ï¼Œå°±è‡ªåŠ¨åœæ­¢HTTPè¯·æ±‚ã€‚ä¸ä¹‹é…å¥—çš„è¿˜æœ‰ä¸€ä¸ªtimeoutäº‹ä»¶ï¼Œç”¨æ¥æŒ‡å®šå›è°ƒå‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">ontimeout</span> = <span class="keyword">function</span>(<span class="params">event</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;è¯·æ±‚è¶…æ—¶ï¼&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-FormDataå¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®"><a href="#4-3-FormDataå¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®" class="headerlink" title="4.3 FormDataå¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®"></a>4.3 FormDataå¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®</h3><p>Ajaxæ“ä½œå¾€å¾€ç”¨æ¥æäº¤è¡¨å•æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿è¡¨å•å¤„ç†ï¼ŒHTML5æ–°å¢äº†ä¸€ä¸ªFormData<br>å¯¹è±¡ï¼Œå¯ä»¥æ¨¡æ‹Ÿè¡¨å•æ“ä½œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Â Â Â Â Â Â <span class="comment">//Â 1.Â æ–°å»ºÂ FormDataÂ å¯¹è±¡</span></span><br><span class="line">Â Â Â Â Â Â <span class="keyword">var</span>Â fdÂ =Â <span class="keyword">new</span>Â <span class="title class_">FormData</span>()</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â 2.Â ä¸ºÂ FormDataÂ æ·»åŠ è¡¨å•é¡¹</span></span><br><span class="line">Â Â Â Â Â Â fd.<span class="title function_">append</span>(<span class="string">&#x27;uname&#x27;</span>,Â <span class="string">&#x27;zs&#x27;</span>)</span><br><span class="line">Â Â Â Â Â Â fd.<span class="title function_">append</span>(<span class="string">&#x27;upwd&#x27;</span>,Â <span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â 3.Â åˆ›å»ºÂ XHRÂ å¯¹è±¡</span></span><br><span class="line">Â Â Â Â Â Â <span class="keyword">var</span>Â xhrÂ =Â <span class="keyword">new</span>Â <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â 4.Â æŒ‡å®šè¯·æ±‚ç±»å‹ä¸URLåœ°å€</span></span><br><span class="line">Â Â Â Â Â Â xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>,Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/formdata&#x27;</span>)</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â 5.Â ç›´æ¥æäº¤Â FormDataÂ å¯¹è±¡ï¼Œè¿™ä¸æäº¤ç½‘é¡µè¡¨å•çš„æ•ˆæœï¼Œå®Œå…¨ä¸€æ ·</span></span><br><span class="line">Â Â Â Â Â Â xhr.<span class="title function_">send</span>(fd)</span><br></pre></td></tr></table></figure>

<p>FormDataå¯¹è±¡ä¹Ÿå¯ä»¥ç”¨æ¥è·å–ç½‘é¡µè¡¨å•çš„å€¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//Â è·å–è¡¨å•å…ƒç´ </span></span><br><span class="line"> <span class="keyword">var</span>Â formÂ =Â <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#form1&#x27;</span>)</span><br><span class="line"> <span class="comment">//Â ç›‘å¬è¡¨å•å…ƒç´ çš„Â submitÂ äº‹ä»¶</span></span><br><span class="line"> form.<span class="title function_">addEventListener</span>(<span class="string">&#x27;submit&#x27;</span>,Â <span class="keyword">function</span>(<span class="params">e</span>)Â &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>()</span><br><span class="line">     <span class="comment">//Â æ ¹æ®Â formÂ è¡¨å•åˆ›å»ºÂ FormDataÂ å¯¹è±¡ï¼Œä¼šè‡ªåŠ¨å°†è¡¨å•æ•°æ®å¡«å……åˆ°Â FormDataÂ å¯¹è±¡ä¸­</span></span><br><span class="line">     <span class="keyword">var</span>Â fdÂ =Â <span class="keyword">new</span>Â <span class="title class_">FormData</span>(form)</span><br><span class="line">     <span class="keyword">var</span>Â xhrÂ =Â <span class="keyword">new</span>Â <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">     xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>,Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/formdata&#x27;</span>)</span><br><span class="line">     xhr.<span class="title function_">send</span>(fd)</span><br><span class="line">     xhr.<span class="property">onreadystatechange</span>Â =Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="4-4-ä¸Šä¼ æ–‡ä»¶"><a href="#4-4-ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="4.4 ä¸Šä¼ æ–‡ä»¶"></a>4.4 ä¸Šä¼ æ–‡ä»¶</h3><p>â€‹	æ–°ç‰ˆ XMLHttpRequestå¯¹è±¡ï¼Œä¸ä»…å¯ä»¥å‘é€æ–‡æœ¬ä¿¡æ¯ï¼Œè¿˜å¯ä»¥ä¸Šä¼ æ–‡ä»¶ã€‚</p>
<p>å®ç°æ­¥éª¤ï¼š</p>
<p>â‘ å®šä¹‰ UIç»“æ„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Â Â Â Â &lt;!--Â <span class="number">1.</span> æ–‡ä»¶é€‰æ‹©æ¡†Â --&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">input</span>Â <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>Â <span class="attr">id</span>=<span class="string">&quot;file1&quot;</span>Â /&gt;</span></span></span><br><span class="line">Â Â Â Â &lt;!--Â <span class="number">2.</span> ä¸Šä¼ æŒ‰é’®Â --&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>Â <span class="attr">id</span>=<span class="string">&quot;btnUpload&quot;</span>&gt;</span>ä¸Šä¼ æ–‡ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">br</span>Â /&gt;</span></span></span><br><span class="line">Â Â Â Â &lt;!--Â <span class="number">3.</span> æ˜¾ç¤ºä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šçš„å›¾ç‰‡Â --&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">img</span>Â <span class="attr">src</span>=<span class="string">&quot;&quot;</span>Â <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>Â <span class="attr">id</span>=<span class="string">&quot;img&quot;</span>Â <span class="attr">width</span>=<span class="string">&quot;800&quot;</span>Â /&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>â‘¡éªŒè¯æ˜¯å¦é€‰æ‹©äº†æ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â 1. è·å–ä¸Šä¼ æ–‡ä»¶çš„æŒ‰é’®</span></span><br><span class="line"><span class="keyword">var</span>Â btnUploadÂ =Â <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#btnUpload&#x27;</span>)</span><br><span class="line"><span class="comment">//Â 2. ä¸ºæŒ‰é’®æ·»åŠ  click äº‹ä»¶ç›‘å¬</span></span><br><span class="line">btnUpload.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">    <span class="comment">// 3. è·å–åˆ°é€‰æ‹©çš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">var</span>Â filesÂ =Â <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#file1&#x27;</span>).<span class="property">files</span></span><br><span class="line">    <span class="keyword">if</span>Â (files.<span class="property">length</span>Â &lt;=Â <span class="number">0</span>)Â &#123;</span><br><span class="line">        <span class="keyword">return</span>Â <span class="title function_">alert</span>(<span class="string">&#x27;è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...åç»­ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>â‘¢å‘ FormDataä¸­è¿½åŠ æ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â 1. åˆ›å»ºÂ FormDataÂ å¯¹è±¡</span></span><br><span class="line"> <span class="keyword">var</span>Â fdÂ =Â <span class="keyword">new</span>Â <span class="title class_">FormData</span>()</span><br><span class="line"> <span class="comment">//Â 2. å‘Â FormDataÂ ä¸­è¿½åŠ æ–‡ä»¶</span></span><br><span class="line"> fd.<span class="title function_">append</span>(<span class="string">&#x27;avatar&#x27;</span>,Â files[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<p>â‘£ä½¿ç”¨ xhrå‘èµ·ä¸Šä¼ æ–‡ä»¶çš„è¯·æ±‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. åˆ›å»º xhr å¯¹è±¡</span></span><br><span class="line"> <span class="keyword">var</span>Â xhrÂ =Â <span class="keyword">new</span>Â <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"> <span class="comment">// 2. è°ƒç”¨ open å‡½æ•°ï¼ŒæŒ‡å®šè¯·æ±‚ç±»å‹ä¸URLåœ°å€ã€‚å…¶ä¸­ï¼Œè¯·æ±‚ç±»å‹å¿…é¡»ä¸º POST</span></span><br><span class="line"> xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>,Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/upload/avatar&#x27;</span>)</span><br><span class="line"> <span class="comment">//Â 3. å‘èµ·è¯·æ±‚</span></span><br><span class="line"> xhr.<span class="title function_">send</span>(fd)</span><br></pre></td></tr></table></figure>

<p>â‘¤ç›‘å¬ onreadystatechangeäº‹ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">onreadystatechange</span>Â =Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">  <span class="keyword">if</span>Â (xhr.<span class="property">readyState</span>Â ===Â <span class="number">4</span>Â &amp;&amp;Â xhr.<span class="property">status</span>Â ===Â <span class="number">200</span>)Â &#123;</span><br><span class="line">    <span class="keyword">var</span>Â dataÂ =Â <span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">    <span class="keyword">if</span>Â (data.<span class="property">status</span>Â ===Â <span class="number">200</span>)Â &#123; <span class="comment">// ä¸Šä¼ æ–‡ä»¶æˆåŠŸ</span></span><br><span class="line">      <span class="comment">// å°†æœåŠ¡å™¨è¿”å›çš„å›¾ç‰‡åœ°å€ï¼Œè®¾ç½®ä¸º &lt;img&gt; æ ‡ç­¾çš„ src å±æ€§</span></span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#img&#x27;</span>).<span class="property">src</span>Â =Â <span class="string">&#x27;http://www.liulongbin.top:3006&#x27;</span>Â +Â data.<span class="property">url</span></span><br><span class="line">    &#125;Â <span class="keyword">else</span>Â &#123; <span class="comment">// ä¸Šä¼ æ–‡ä»¶å¤±è´¥</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">message</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-5-æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦"><a href="#4-5-æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦" class="headerlink" title="4.5 æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦"></a>4.5 æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦</h3><p>æ–°ç‰ˆæœ¬çš„ XMLHttpRequestå¯¹è±¡ä¸­ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬ xhr.upload.onprogress äº‹ä»¶ï¼Œæ¥è·å–åˆ°æ–‡ä»¶çš„ä¸Šä¼ è¿›åº¦ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="comment">// åˆ›å»º XHR å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span>Â xhrÂ =Â <span class="keyword">new</span>Â <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">// ç›‘å¬ xhr.upload çš„ onprogress äº‹ä»¶</span></span><br><span class="line">xhr.<span class="property">upload</span>.<span class="property">onprogress</span>Â =Â <span class="keyword">function</span>(<span class="params">e</span>)Â &#123;</span><br><span class="line">   <span class="comment">// e.lengthComputable æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰ä¸Šä¼ çš„èµ„æºæ˜¯å¦å…·æœ‰å¯è®¡ç®—çš„é•¿åº¦</span></span><br><span class="line">   <span class="keyword">if</span>Â (e.<span class="property">lengthComputable</span>)Â &#123;</span><br><span class="line">       <span class="comment">// e.loaded å·²ä¼ è¾“çš„å­—èŠ‚</span></span><br><span class="line">       <span class="comment">// e.total  éœ€ä¼ è¾“çš„æ€»å­—èŠ‚</span></span><br><span class="line">       <span class="keyword">var</span>Â percentCompleteÂ =Â <span class="title class_">Math</span>.<span class="title function_">ceil</span>((e.<span class="property">loaded</span>Â /Â e.<span class="property">total</span>)Â *Â <span class="number">100</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(1)å¯¼å…¥éœ€è¦çš„åº“</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;linkÂ rel=<span class="string">&quot;stylesheet&quot;</span>Â href=<span class="string">&quot;./lib/bootstrap.css&quot;</span>Â /&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>Â <span class="attr">src</span>=<span class="string">&quot;./lib/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>(2)åŸºäºBootstrapæ¸²æŸ“è¿›åº¦æ¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--Â è¿›åº¦æ¡Â --&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>Â <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span>Â <span class="attr">style</span>=<span class="string">&quot;width:Â 500px;Â margin:Â 10pxÂ 0;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">Â Â Â Â Â Â <span class="tag">&lt;<span class="name">div</span>Â <span class="attr">class</span>=<span class="string">&quot;progress-barÂ progress-bar-infoÂ progress-bar-stripedÂ active&quot;</span>Â <span class="attr">id</span>=<span class="string">&quot;percent&quot;</span>Â <span class="attr">style</span>=<span class="string">&quot;width:Â 0%&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">Â Â Â Â Â Â Â Â 0%</span></span><br><span class="line"><span class="language-xml">Â Â Â Â Â Â <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">Â Â Â Â <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>(3)ç›‘å¬ä¸Šä¼ è¿›åº¦çš„äº‹ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">upload</span>.<span class="property">onprogress</span>Â =Â <span class="keyword">function</span>(<span class="params">e</span>)Â &#123;</span><br><span class="line">    <span class="keyword">if</span>Â (e.<span class="property">lengthComputable</span>)Â &#123;</span><br><span class="line">    <span class="comment">//Â 1. è®¡ç®—å‡ºå½“å‰ä¸Šä¼ è¿›åº¦çš„ç™¾åˆ†æ¯”</span></span><br><span class="line">    <span class="keyword">var</span>Â percentCompleteÂ =Â <span class="title class_">Math</span>.<span class="title function_">ceil</span>((e.<span class="property">loaded</span>Â /Â e.<span class="property">total</span>)Â *Â <span class="number">100</span>)</span><br><span class="line">    $(<span class="string">&#x27;#percent&#x27;</span>)</span><br><span class="line">        <span class="comment">//Â 2. è®¾ç½®è¿›åº¦æ¡çš„å®½åº¦</span></span><br><span class="line">        .<span class="title function_">attr</span>(<span class="string">&#x27;style&#x27;</span>,Â <span class="string">&#x27;width:&#x27;</span>Â +Â percentCompleteÂ +Â <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">        <span class="comment">//Â 3. æ˜¾ç¤ºå½“å‰çš„ä¸Šä¼ è¿›åº¦ç™¾åˆ†æ¯”</span></span><br><span class="line">        .<span class="title function_">html</span>(percentCompleteÂ +Â <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>(4)ç›‘å¬ä¸Šä¼ å®Œæˆçš„äº‹ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">upload</span>.<span class="property">onload</span>Â =Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">     $(<span class="string">&#x27;#percent&#x27;</span>)</span><br><span class="line">         <span class="comment">//Â ç§»é™¤ä¸Šä¼ ä¸­çš„ç±»æ ·å¼</span></span><br><span class="line">         .<span class="title function_">removeClass</span>()</span><br><span class="line">         <span class="comment">//Â æ·»åŠ ä¸Šä¼ å®Œæˆçš„ç±»æ ·å¼</span></span><br><span class="line">         .<span class="title function_">addClass</span>(<span class="string">&#x27;progress-barÂ progress-bar-success&#x27;</span>)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-jQueryé«˜çº§ç”¨æ³•"><a href="#5-jQueryé«˜çº§ç”¨æ³•" class="headerlink" title="5.jQueryé«˜çº§ç”¨æ³•"></a>5.jQueryé«˜çº§ç”¨æ³•</h2><h3 id="5-1-jQueryå®ç°æ–‡ä»¶ä¸Šä¼ "><a href="#5-1-jQueryå®ç°æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="5.1 jQueryå®ç°æ–‡ä»¶ä¸Šä¼ "></a>5.1 jQueryå®ç°æ–‡ä»¶ä¸Šä¼ </h3><p>(1)å®šä¹‰UIç»“æ„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--Â å¯¼å…¥ jQueryÂ --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>Â <span class="attr">src</span>=<span class="string">&quot;./lib/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">Â Â Â Â &lt;!--Â æ–‡ä»¶é€‰æ‹©æ¡†Â --&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">input</span>Â <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>Â <span class="attr">id</span>=<span class="string">&quot;file1&quot;</span>Â /&gt;</span></span></span><br><span class="line">Â Â Â Â &lt;!--Â ä¸Šä¼ æ–‡ä»¶æŒ‰é’®Â --&gt;</span><br><span class="line">Â Â Â Â <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>Â <span class="attr">id</span>=<span class="string">&quot;btnUpload&quot;</span>&gt;</span>ä¸Šä¼ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>(2)éªŒè¯æ˜¯å¦é€‰æ‹©äº†æ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#btnUpload&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,Â <span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">     <span class="comment">//Â 1. å°†Â jQueryÂ å¯¹è±¡è½¬åŒ–ä¸ºÂ DOMÂ å¯¹è±¡ï¼Œå¹¶è·å–é€‰ä¸­çš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">     <span class="keyword">var</span>Â filesÂ =Â $(<span class="string">&#x27;#file1&#x27;</span>)[<span class="number">0</span>].<span class="property">files</span></span><br><span class="line">     <span class="comment">//Â 2. åˆ¤æ–­æ˜¯å¦é€‰æ‹©äº†æ–‡ä»¶</span></span><br><span class="line">     <span class="keyword">if</span>Â (files.<span class="property">length</span>Â &lt;=Â <span class="number">0</span>)Â &#123;</span><br><span class="line">         <span class="keyword">return</span>Â <span class="title function_">alert</span>(<span class="string">&#x27;è¯·é€‰æ‹©å›¾ç‰‡åå†ä¸Šä¼ ï¼â€˜)</span></span><br><span class="line"><span class="string">     &#125;</span></span><br><span class="line"><span class="string"> &#125;)</span></span><br></pre></td></tr></table></figure>

<p>(3)å‘FormDataä¸­è¿½åŠ æ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â å‘Â FormDataÂ ä¸­è¿½åŠ æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">var</span>Â fdÂ =Â <span class="keyword">new</span>Â <span class="title class_">FormData</span>()</span><br><span class="line">fd.<span class="title function_">append</span>(<span class="string">&#x27;avatar&#x27;</span>,Â files[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<p>(4)ä½¿ç”¨jQueryå‘èµ·ä¸Šä¼ æ–‡ä»¶çš„è¯·æ±‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>:Â <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>:Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/upload/avatar&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>:Â fd,</span><br><span class="line">    <span class="comment">//Â ä¸ä¿®æ”¹Â Content-TypeÂ å±æ€§ï¼Œä½¿ç”¨Â FormDataÂ é»˜è®¤çš„Â Content-TypeÂ å€¼</span></span><br><span class="line">    <span class="attr">contentType</span>:Â <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">//Â ä¸å¯¹Â FormDataÂ ä¸­çš„æ•°æ®è¿›è¡ŒÂ urlÂ ç¼–ç ï¼Œè€Œæ˜¯å°†Â FormDataÂ æ•°æ®åŸæ ·å‘é€åˆ°æœåŠ¡å™¨</span></span><br><span class="line">    <span class="attr">processData</span>:Â <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">success</span>:Â <span class="keyword">function</span>(<span class="params">res</span>)Â &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="5-2-jQueryå®ç°loadingæ•ˆæœ"><a href="#5-2-jQueryå®ç°loadingæ•ˆæœ" class="headerlink" title="5.2 jQueryå®ç°loadingæ•ˆæœ"></a>5.2 jQueryå®ç°loadingæ•ˆæœ</h3><p>(1)ajaxStart(callback)</p>
<p>Ajax è¯·æ±‚å¼€å§‹æ—¶ï¼Œæ‰§è¡Œ ajaxStart å‡½æ•°ã€‚å¯ä»¥åœ¨ ajaxStart çš„ callback ä¸­æ˜¾ç¤º loading æ•ˆæœï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â è‡ªÂ jQueryÂ ç‰ˆæœ¬Â 1.8Â èµ·ï¼Œè¯¥æ–¹æ³•åªèƒ½è¢«é™„åŠ åˆ°æ–‡æ¡£</span></span><br><span class="line"> $(<span class="variable language_">document</span>).<span class="title function_">ajaxStart</span>(<span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">     $(<span class="string">&#x27;#loading&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š $(document).ajaxStart() å‡½æ•°<code>ä¼šç›‘å¬å½“å‰æ–‡æ¡£å†…æ‰€æœ‰çš„Ajaxè¯·æ±‚</code>ã€‚</p>
<p>(2)ajaxStop(callback)</p>
<p>Ajax è¯·æ±‚ç»“æŸæ—¶ï¼Œæ‰§è¡Œ ajaxStop å‡½æ•°ã€‚å¯ä»¥åœ¨ ajaxStop çš„ callback ä¸­éšè— loading æ•ˆæœï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â è‡ªÂ jQueryÂ ç‰ˆæœ¬Â 1.8Â èµ·ï¼Œè¯¥æ–¹æ³•åªèƒ½è¢«é™„åŠ åˆ°æ–‡æ¡£</span></span><br><span class="line"> $(<span class="variable language_">document</span>).<span class="title function_">ajaxStop</span>(<span class="keyword">function</span>(<span class="params"></span>)Â &#123;</span><br><span class="line">     $(<span class="string">&#x27;#loading&#x27;</span>).<span class="title function_">hide</span>()</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="6-axios"><a href="#6-axios" class="headerlink" title="6.axios"></a>6.axios</h2><h3 id="6-1-åŸºæœ¬ä¿¡æ¯"><a href="#6-1-åŸºæœ¬ä¿¡æ¯" class="headerlink" title="6.1 åŸºæœ¬ä¿¡æ¯"></a>6.1 åŸºæœ¬ä¿¡æ¯</h3><p>Axiosæ˜¯ä¸“æ³¨äº<code>ç½‘ç»œæ•°æ®è¯·æ±‚</code>çš„åº“ã€‚</p>
<p>ç›¸æ¯”äºåŸç”Ÿçš„XMLHttpRequestå¯¹è±¡ï¼Œaxiosç®€å•æ˜“ç”¨ã€‚</p>
<p>ç›¸æ¯”äºjQueryï¼Œaxiosæ›´åŠ è½»é‡åŒ–ï¼Œåªä¸“æ³¨äºç½‘ç»œæ•°æ®è¯·æ±‚ã€‚</p>
<h3 id="6-2-axioså‘èµ·GETè¯·æ±‚"><a href="#6-2-axioså‘èµ·GETè¯·æ±‚" class="headerlink" title="6.2 axioså‘èµ·GETè¯·æ±‚"></a>6.2 axioså‘èµ·GETè¯·æ±‚</h3><p>axioså‘èµ·getè¯·æ±‚çš„è¯­æ³•ï¼š</p>
<p><strong>axios.get(â€˜urlâ€™, { params: { &#x2F;<em>å‚æ•°</em>&#x2F; }}).then(callback)</strong></p>
<p>å…·ä½“çš„è¯·æ±‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â è¯·æ±‚çš„Â URLÂ åœ°å€</span></span><br><span class="line"><span class="keyword">var</span>Â urlÂ =Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/get&#x27;</span></span><br><span class="line"><span class="comment">//Â è¯·æ±‚çš„å‚æ•°å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span>Â paramsObjÂ =Â &#123;Â <span class="attr">name</span>:Â <span class="string">&#x27;zs&#x27;</span>,Â <span class="attr">age</span>:Â <span class="number">20</span>Â &#125;</span><br><span class="line"><span class="comment">//Â è°ƒç”¨Â axios.get()Â å‘èµ·Â GETÂ è¯·æ±‚</span></span><br><span class="line">axios.<span class="title function_">get</span>(url,Â &#123;Â <span class="attr">params</span>:Â paramsObjÂ &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>)Â &#123;</span><br><span class="line">    <span class="comment">//Â res.dataÂ æ˜¯æœåŠ¡å™¨è¿”å›çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span>Â resultÂ =Â res.<span class="property">data</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="6-3-axioså‘èµ·POSTè¯·æ±‚"><a href="#6-3-axioså‘èµ·POSTè¯·æ±‚" class="headerlink" title="6.3 axioså‘èµ·POSTè¯·æ±‚"></a>6.3 axioså‘èµ·POSTè¯·æ±‚</h3><p>axioså‘èµ·postè¯·æ±‚çš„è¯­æ³•ï¼š</p>
<p> <strong>axios.post(â€˜urlâ€™, { &#x2F;<em>å‚æ•°</em>&#x2F; }).then(callback)</strong></p>
<p>å…·ä½“çš„è¯·æ±‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â è¯·æ±‚çš„Â URLÂ åœ°å€</span></span><br><span class="line"><span class="keyword">var</span>Â urlÂ =Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/post&#x27;</span></span><br><span class="line"><span class="comment">//Â è¦æäº¤åˆ°æœåŠ¡å™¨çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">var</span>Â dataObjÂ =Â &#123;Â <span class="attr">location</span>:Â <span class="string">&#x27;åŒ—äº¬&#x27;</span>,Â <span class="attr">address</span>:Â <span class="string">&#x27;é¡ºä¹‰&#x27;</span>Â &#125;</span><br><span class="line"><span class="comment">//Â è°ƒç”¨Â axios.post()Â å‘èµ·Â POSTÂ è¯·æ±‚</span></span><br><span class="line">axios.<span class="title function_">post</span>(url,Â dataObj).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>)Â &#123;</span><br><span class="line">    <span class="comment">//Â res.dataÂ æ˜¯æœåŠ¡å™¨è¿”å›çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span>Â resultÂ =Â res.<span class="property">data</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="6-4-ç›´æ¥ä½¿ç”¨axioså‘èµ·è¯·æ±‚"><a href="#6-4-ç›´æ¥ä½¿ç”¨axioså‘èµ·è¯·æ±‚" class="headerlink" title="6.4 ç›´æ¥ä½¿ç”¨axioså‘èµ·è¯·æ±‚"></a>6.4 ç›´æ¥ä½¿ç”¨axioså‘èµ·è¯·æ±‚</h3><p>axiosä¹Ÿæä¾›äº†ç±»ä¼¼äºjQueryä¸­$.ajax()çš„å‡½æ•°ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>:Â <span class="string">&#x27;è¯·æ±‚ç±»å‹&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>:Â <span class="string">&#x27;è¯·æ±‚çš„URLåœ°å€&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>:Â &#123;Â <span class="comment">/*Â POSTæ•°æ®Â */</span>Â &#125;,</span><br><span class="line">    <span class="attr">params</span>:Â &#123;Â <span class="comment">/*Â GETå‚æ•°Â */</span>Â &#125;</span><br><span class="line">&#125;) .<span class="title function_">then</span>(callback)</span><br></pre></td></tr></table></figure>

<p>(1)ç›´æ¥ä½¿ç”¨axioså‘èµ·GETè¯·æ±‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">     <span class="attr">method</span>:Â <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">     <span class="attr">url</span>:Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/get&#x27;</span>,</span><br><span class="line">     <span class="attr">params</span>:Â &#123; <span class="comment">// GET å‚æ•°è¦é€šè¿‡ params å±æ€§æä¾›</span></span><br><span class="line">         <span class="attr">name</span>:Â <span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â Â <span class="attr">age</span>:Â <span class="number">20</span></span><br><span class="line">Â Â Â Â Â &#125;</span><br><span class="line"> &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>)Â &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<p>(2)ç›´æ¥ä½¿ç”¨axioså‘èµ·POSTè¯·æ±‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">     <span class="attr">method</span>:Â <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">     <span class="attr">url</span>:Â <span class="string">&#x27;http://www.liulongbin.top:3006/api/post&#x27;</span>,</span><br><span class="line">     <span class="attr">data</span>:Â &#123; <span class="comment">// POST æ•°æ®è¦é€šè¿‡ data å±æ€§æä¾›</span></span><br><span class="line">         <span class="attr">bookname</span>:Â <span class="string">&#x27;ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â Â <span class="attr">price</span>:Â <span class="number">666</span></span><br><span class="line">Â Â Â Â Â &#125;</span><br><span class="line"> &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>)Â &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a><a class="post-meta__tags" href="/tags/Ajax/">Ajax</a></div><div class="post_share"><div class="social-share" data-image="/img/%E5%8E%9F%E7%A5%9E1%20(7).jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/weixin.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/weixin.jpg" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="/img/zhifubao.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/zhifubao.jpg" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/10/%E6%96%87%E7%AB%A05/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%8E%9F%E7%A5%9E1%20(2).jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Ajaxå­¦ä¹ (2)</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/30/%E6%96%87%E7%AB%A03/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%8E%9F%E7%A5%9E1%20(6).jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">JavaScripté«˜çº§å­¦ä¹ </div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/11/10/%E6%96%87%E7%AB%A05/" title="Ajaxå­¦ä¹ (2)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%8E%9F%E7%A5%9E1%20(2).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-10</div><div class="title">Ajaxå­¦ä¹ (2)</div></div></a></div><div><a href="/2022/10/20/%E6%96%87%E7%AB%A01/" title="JavascriptåŸºç¡€"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%8E%9F%E7%A5%9E1%20(3).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-20</div><div class="title">JavascriptåŸºç¡€</div></div></a></div><div><a href="/2022/11/15/%E6%96%87%E7%AB%A010/" title="ES6æ¨¡å—åŒ–å­¦ä¹ "><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/apex%20(19).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-15</div><div class="title">ES6æ¨¡å—åŒ–å­¦ä¹ </div></div></a></div><div><a href="/2022/11/15/%E6%96%87%E7%AB%A011/" title="webpackå­¦ä¹ "><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/apex%20(20).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-15</div><div class="title">webpackå­¦ä¹ </div></div></a></div><div><a href="/2022/11/15/%E6%96%87%E7%AB%A013/" title="Vuexå­¦ä¹ "><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/apex%20(7).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-15</div><div class="title">Vuexå­¦ä¹ </div></div></a></div><div><a href="/2022/10/25/%E6%96%87%E7%AB%A02/" title="WebApiå­¦ä¹ "><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%8E%9F%E7%A5%9E1%20(4).jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-25</div><div class="title">WebApiå­¦ä¹ </div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Ajax%E7%AC%AC%E4%B8%80%E5%A4%A9"><span class="toc-text">Ajaxç¬¬ä¸€å¤©</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">1.æœåŠ¡å™¨çš„åŸºæœ¬æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-URL%E5%9C%B0%E5%9D%80"><span class="toc-text">1.1 URLåœ°å€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E7%BD%91%E9%A1%B5%E7%9A%84%E6%89%93%E5%BC%80%E8%BF%87%E7%A8%8B"><span class="toc-text">1.2 ç½‘é¡µçš„æ‰“å¼€è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E8%AF%B7%E6%B1%82%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%96%B9%E5%BC%8F"><span class="toc-text">1.3 è¯·æ±‚æœåŠ¡å™¨æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-get-%E8%AF%B7%E6%B1%82"><span class="toc-text">1.3.1 get è¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-post-%E8%AF%B7%E6%B1%82"><span class="toc-text">1.3.2 post è¯·æ±‚</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BA%86%E8%A7%A3Ajax"><span class="toc-text">2.äº†è§£Ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">2.1 å…¸å‹åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%BA%86%E8%A7%A3jQuery%E4%B8%AD%E7%9A%84Ajax"><span class="toc-text">2.2 äº†è§£jQueryä¸­çš„Ajax</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">3.å‘èµ·è¯·æ±‚çš„æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-get"><span class="toc-text">3.1 $.get()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-post"><span class="toc-text">3.2 $.post()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-ajax"><span class="toc-text">3.3 $.ajax()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%8E%A5%E5%8F%A3"><span class="toc-text">4.æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7PostMan"><span class="toc-text">4.1 æ¥å£æµ‹è¯•å·¥å…·PostMan</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3"><span class="toc-text">4.2 æ¥å£æ–‡æ¡£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">4.3 ç»„æˆéƒ¨åˆ†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%A1%88%E4%BE%8B-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86"><span class="toc-text">5.æ¡ˆä¾‹-å›¾ä¹¦ç®¡ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%A1%88%E4%BE%8B-%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA"><span class="toc-text">6.æ¡ˆä¾‹-èŠå¤©æœºå™¨äºº</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ajax%E7%AC%AC%E4%BA%8C%E5%A4%A9"><span class="toc-text">Ajaxç¬¬äºŒå¤©</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-form%E8%A1%A8%E5%8D%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">1.formè¡¨å•çš„åŸºæœ¬ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-form%E6%A0%87%E7%AD%BE%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">1.1 formæ ‡ç­¾çš„å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-1-action"><span class="toc-text">1.1.1 action</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-2-target"><span class="toc-text">1.1.2 target</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-method"><span class="toc-text">1.1.3 method</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-4-enctype"><span class="toc-text">1.1.4 enctype</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%A1%A8%E5%8D%95%E7%9A%84%E5%90%8C%E6%AD%A5%E6%8F%90%E4%BA%A4"><span class="toc-text">1.2 è¡¨å•çš„åŒæ­¥æäº¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-%E5%90%8C%E6%AD%A5%E6%8F%90%E4%BA%A4%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">1.2.1 åŒæ­¥æäº¤çš„ç¼ºç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%80%9A%E8%BF%87Ajax%E6%8F%90%E4%BA%A4%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-text">2.é€šè¿‡Ajaxæäº¤è¡¨å•æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E7%9B%91%E5%90%AC%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%E4%BA%8B%E4%BB%B6"><span class="toc-text">2.1 ç›‘å¬è¡¨å•æäº¤äº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E9%98%BB%E6%AD%A2%E8%A1%A8%E5%8D%95%E9%BB%98%E8%AE%A4%E6%8F%90%E4%BA%A4%E8%A1%8C%E4%B8%BA"><span class="toc-text">2.2 é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%BF%AB%E9%80%9F%E8%8E%B7%E5%8F%96%E8%A1%A8%E5%8D%95%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text">2.3 å¿«é€Ÿè·å–è¡¨å•ä¸­çš„æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-serialize-%E5%87%BD%E6%95%B0"><span class="toc-text">2.3.1 serialize()å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E7%A4%BA%E8%8C%83"><span class="toc-text">2.3.2 ç¤ºèŒƒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%A1%88%E4%BE%8B-%E8%AF%84%E8%AE%BA%E5%88%97%E8%A1%A8"><span class="toc-text">3.æ¡ˆä¾‹-è¯„è®ºåˆ—è¡¨</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ajax%E7%AC%AC%E4%B8%89%E5%A4%A9"><span class="toc-text">Ajaxç¬¬ä¸‰å¤©</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-XMLHttpRequest%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">1.XMLHttpRequestçš„åŸºæœ¬ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BD%BF%E7%94%A8xhr%E5%8F%91%E8%B5%B7GET%E8%AF%B7%E6%B1%82%E6%AD%A5%E9%AA%A4"><span class="toc-text">1.1 ä½¿ç”¨xhrå‘èµ·GETè¯·æ±‚æ­¥éª¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%BA%86%E8%A7%A3xhr%E5%AF%B9%E8%B1%A1%E7%9A%84readyState%E5%B1%9E%E6%80%A7"><span class="toc-text">1.2 äº†è§£xhrå¯¹è±¡çš„readyStateå±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E4%BD%BF%E7%94%A8-xhr-%E5%8F%91%E8%B5%B7%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84-GET-%E8%AF%B7%E6%B1%82"><span class="toc-text">1.3 ä½¿ç”¨ xhr å‘èµ·å¸¦å‚æ•°çš„ GET è¯·æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">1.4 æŸ¥è¯¢å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-URL%E7%BC%96%E7%A0%81%E4%B8%8E%E8%A7%A3%E7%A0%81"><span class="toc-text">1.5 URLç¼–ç ä¸è§£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%E4%BD%BF%E7%94%A8-xhr-%E5%8F%91%E8%B5%B7-POST-%E8%AF%B7%E6%B1%82"><span class="toc-text">1.6 ä½¿ç”¨ xhr å‘èµ· POST è¯·æ±‚</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%A0%BC%E5%BC%8F"><span class="toc-text">2.æ•°æ®äº¤æ¢æ ¼å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-XML"><span class="toc-text">2.1 XML</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-JSON"><span class="toc-text">2.2 JSON</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B0%81%E8%A3%85%E8%87%AA%E5%B7%B1%E7%9A%84Ajax%E5%87%BD%E6%95%B0"><span class="toc-text">3.å°è£…è‡ªå·±çš„Ajaxå‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%95%88%E6%9E%9C"><span class="toc-text">3.1 è¦å®ç°çš„æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%AE%9A%E4%B9%89options%E5%8F%82%E6%95%B0%E9%80%89%E9%A1%B9"><span class="toc-text">3.2 å®šä¹‰optionså‚æ•°é€‰é¡¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%A4%84%E7%90%86data%E5%8F%82%E6%95%B0"><span class="toc-text">3.3 å¤„ç†dataå‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%AE%9A%E4%B9%89itheima%E5%87%BD%E6%95%B0"><span class="toc-text">3.4 å®šä¹‰itheimaå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%88%A4%E6%96%AD%E8%AF%B7%E6%B1%82%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.5 åˆ¤æ–­è¯·æ±‚çš„ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-XMLHttpRequest-Level2%E7%9A%84%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-text">4.XMLHttpRequest Level2çš„æ–°ç‰¹æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E8%AE%A4%E8%AF%86XMLHttpRequestLevel2"><span class="toc-text">4.1 è®¤è¯†XMLHttpRequestLevel2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E8%AE%BE%E7%BD%AEHTTP%E8%AF%B7%E6%B1%82%E6%97%B6%E9%99%90"><span class="toc-text">4.2 è®¾ç½®HTTPè¯·æ±‚æ—¶é™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-FormData%E5%AF%B9%E8%B1%A1%E7%AE%A1%E7%90%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-text">4.3 FormDataå¯¹è±¡ç®¡ç†è¡¨å•æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="toc-text">4.4 ä¸Šä¼ æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E8%BF%9B%E5%BA%A6"><span class="toc-text">4.5 æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-jQuery%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-text">5.jQueryé«˜çº§ç”¨æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-jQuery%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-text">5.1 jQueryå®ç°æ–‡ä»¶ä¸Šä¼ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-jQuery%E5%AE%9E%E7%8E%B0loading%E6%95%88%E6%9E%9C"><span class="toc-text">5.2 jQueryå®ç°loadingæ•ˆæœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-axios"><span class="toc-text">6.axios</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">6.1 åŸºæœ¬ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-axios%E5%8F%91%E8%B5%B7GET%E8%AF%B7%E6%B1%82"><span class="toc-text">6.2 axioså‘èµ·GETè¯·æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-axios%E5%8F%91%E8%B5%B7POST%E8%AF%B7%E6%B1%82"><span class="toc-text">6.3 axioså‘èµ·POSTè¯·æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8axios%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82"><span class="toc-text">6.4 ç›´æ¥ä½¿ç”¨axioså‘èµ·è¯·æ±‚</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By ç›–ä¸–è‹±é›„æ˜Šè½©</div><div class="footer_custom_text">è¿½é£èµ¶æœˆè«åœç•™ï¼Œå¹³èŠœå°½å¤„æ˜¯æ˜¥å±±</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script defer src="/js/light.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/11/15/æ–‡ç« 6/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/åŸç¥1 (2).png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-15</span><a class="blog-slider__title" href="2022/11/15/æ–‡ç« 6/" alt="">Gitå­¦ä¹ </a><div class="blog-slider__text">Gitå­¦ä¹ ç¬”è®°</div><a class="blog-slider__button" href="2022/11/15/æ–‡ç« 6/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/11/10/æ–‡ç« 5/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/åŸç¥1 (2).jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-10</span><a class="blog-slider__title" href="2022/11/10/æ–‡ç« 5/" alt="">Ajaxå­¦ä¹ (2)</a><div class="blog-slider__text">Ajaxå­¦ä¹ ç¬”è®°(2)</div><a class="blog-slider__button" href="2022/11/10/æ–‡ç« 5/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/11/05/æ–‡ç« 4/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/åŸç¥1 (7).jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-05</span><a class="blog-slider__title" href="2022/11/05/æ–‡ç« 4/" alt="">Ajaxå­¦ä¹ (1)</a><div class="blog-slider__text">Ajaxå­¦ä¹ ç¬”è®°(1)</div><a class="blog-slider__button" href="2022/11/05/æ–‡ç« 4/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/10/30/æ–‡ç« 3/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/åŸç¥1 (6).jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-30</span><a class="blog-slider__title" href="2022/10/30/æ–‡ç« 3/" alt="">JavaScripté«˜çº§å­¦ä¹ </a><div class="blog-slider__text">JavaScripté«˜çº§å­¦ä¹ ç¬”è®°</div><a class="blog-slider__button" href="2022/10/30/æ–‡ç« 3/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/10/25/æ–‡ç« 2/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/åŸç¥1 (4).jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-25</span><a class="blog-slider__title" href="2022/10/25/æ–‡ç« 2/" alt="">WebApiå­¦ä¹ </a><div class="blog-slider__text">WebApiå­¦ä¹ ç¬”è®°</div><a class="blog-slider__button" href="2022/10/25/æ–‡ç« 2/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/10/20/æ–‡ç« 1/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/åŸç¥1 (3).jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-20</span><a class="blog-slider__title" href="2022/10/20/æ–‡ç« 1/" alt="">JavascriptåŸºç¡€</a><div class="blog-slider__text">JavascriptåŸºç¡€éƒ¨åˆ†å­¦ä¹ ç¬”è®°</div><a class="blog-slider__button" href="2022/10/20/æ–‡ç« 1/" alt="">è¯¦æƒ…   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '0.5s');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>